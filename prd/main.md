# PRD: Hotly - AI 기반 핫플 & 데이트 코스 저장/추천 앱

## 1. 앱 개요
**앱 이름:** Hotly
**핵심 아이디어:** SNS(인스타그램, 유튜브) 링크를 공유하면 AI가 게시글을 분석하여 장소 정보를 추출하고 지도에 저장. 저장된 장소를 기반으로 데이트 코스를 추천하고 공유 가능.

**타깃 사용자:**
- 20~35세 연인 또는 데이트 계획을 즐기는 사람
- SNS로 핫플/카페/맛집, 전시/공연 정보를 자주 접하는 사용자

## 1. 페르소나(Persona)
- 이름: 지훈(28), 직장인, iOS/Android 사용자
- 맥락: SNS(인스타/유튜브)에서 저장해둔 핫플을 주말 데이트에 활용하고 싶다.
- 목표: 링크를 모아두면 자동으로 장소가 정리되고, 최적 동선 코스를 추천/공유 받고 싶다.
- 제약: 바쁜 평일, 긴 폼 입력은 싫다. 로딩이 길면 이탈한다. 위치/시간대 고려 필요.
- 성공 정의(DoS): 링크 공유 후 1분 내 코스 초안 생성, 지도에서 동선이 직관적, 연인과 쉽게 공유.
- Top Pain Points(우선순위):
  1) 링크별 장소 정보가 제각각이라 정리가 번거로움
  2) 동선이 비효율적이라 일정이 늘어짐
  3) 공유 방법이 불편하여 계획 합의가 느림

---

## 2. 유저 스토리(User Stories)
- 링크 저장자(Owner)로서, SNS 링크를 공유하면 자동으로 장소가 저장되어 분류되길 원한다. 그래서 따로 메모하지 않아도 주말 전에 정리된 위시를 확보한다.
- 링크 저장자(Owner)로서, 저장된 장소로 동선 좋은 코스를 추천받고 약간 수정하고 싶다. 그래서 계획 수립 시간이 10분 이내로 끝난다.
- 동행자(Partner)로서, 공유 링크만 받아도 코스/지도/시간을 쉽게 확인하고 의견을 남기고 싶다. 그래서 빠르게 합의한다.
- 사용자로서, 태그(데이트/전시/카페 등) 기반으로 필터해 내 취향에 맞는 코스를 보고 싶다. 그래서 만족도가 높아진다.

---

## 3. 유저 플로우(User Flows)
### 3-1. 링크 공유 & 장소 저장
1) 사용자가 인스타/유튜브에서 링크 공유 → Hotly 선택
2) 시스템: URL 캐시 조회(적중 시 1s 내 결과 표시)
3) 미적중 시 AI 분석 수행(Gemini), 장소명/주소/카테고리/이미지/영업시간 추출
4) 태그 분류(기본+사용자 정의), DB 저장 및 캐시 스냅샷
5) 사용자: 저장 결과 카드 확인, 지도에 자동 반영

에러/빈 상태: 잘못된 URL, 비공개/삭제 콘텐츠, 분석 실패 시 재시도/수동 추가 유도

### 3-2. 위시리스트 & 장소 관리
- 리스트/검색/태그 필터(기본+사용자 정의), 즐겨찾기/방문 예정 토글, 세부 정보 보기

### 3-3. 데이트 코스 생성/편집
- 후보 장소 선택 → AI가 동선 최적 코스 제안(카테 다양성/영업시간 고려)
- 사용자: 순서/장소 교체, 코스 이름/이미지 지정

### 3-4. 지도 시각화 & 공유
- 지도에 마커/경로(이동시간/거리), 코스 요약 카드
- 공유 버튼 → 링크/코드 생성(읽기 전용 미리보기)

### 3-5. 방문 & 알림
- 방문 예정 시간/영업시간 기반 리마인더
- 방문 후 즐겨찾기/후기 기록

---

## 4. 수용 기준(Acceptance Criteria)
| ID | 시나리오 | Given | When | Then |
|----|----------|-------|------|------|
| AC-01 | 링크 캐시 적중 | 동일 URL 분석 결과가 캐시에 있음 | 사용자가 링크를 공유 | 1초 이내에 장소 카드가 표시된다 |
| AC-02 | 링크 최초 분석 | 캐시에 없음 | 시스템이 AI 분석 수행 | 30초 이내에 최소 1개 장소가 저장되고 카드가 표시된다 |
| AC-03 | 장소 태그 분류 | 기본/사용자 태그 구성이 존재 | 분석 결과가 저장될 때 | 최소 1개 이상의 관련 태그가 자동 부여된다 |
| AC-04 | 코스 추천 | 사용자가 3개 이상 장소를 선택 | 코스 추천을 실행 | 총 예상 이동시간이 최소화된 순서로 제안된다 |
| AC-05 | 지도 시각화 | 추천 코스가 존재 | 코스를 열람 | 마커/경로와 요약 정보가 동시에 보인다 |
| AC-06 | 공유 링크 | 코스가 존재 | 공유 버튼을 누름 | 공유 가능한 링크/코드가 생성되고 미리보기를 표시한다 |
| AC-07 | 알림 | 사용자가 방문 예정으로 설정 | 방문 전날/당일 설정 시간이 됨 | 푸시 알림이 발송된다 |
| AC-08 | 오류 처리 | URL이 유효하지 않음 | 링크를 공유 | 사용자에게 원인/대안을 안내하고 재시도/수동 추가로 유도한다 |

---

## 5. Conflict Matrix(상충/의존성)
| 항목 | 잠재 충돌 | 정책/해결 |
|------|-----------|-----------|
| 공유 버튼 위치(지도/코스 상세) | 동일 기능 다중 위치 노출 | 코스 상세 상단 기본, 지도에서는 컨텍스트 메뉴로 축소 |
| 태그 필터와 검색 | 필터/검색 동시 적용 시 결과 0 | 최근 적용 기준: 검색 → 필터 순, 결과 0이면 필터 배지 강조/완화 제안 |
| 캐시와 실시간 분석 | 오래된 캐시 vs 최신 분석 | 캐시 즉시 표시 후 백그라운드 최신화, 변경 시 스낵바/뱃지로 업데이트 알림 |
| 코스 편집 vs 추천 재생성 | 사용자 수정을 덮어씀 | 사용자 편집 후에는 추천 재생성 시 머지 모드(수정 보존 + 대안 제시) |

---

## 6. 페이지별 UI 요약(사용자 관점)
| 페이지 | 사용자가 하는 일 | 시스템 반응 |
|--------|-------------------|-------------|
| 홈/대시보드 | 최근 저장·추천 확인, 빠른 탐색 | 카드/검색/태그 필터 제공 |
| 링크 공유/분석 | SNS 링크 공유 | 캐시 즉시/AI 분석 후 결과 카드 표시 |
| 위시리스트 | 장소 관리, 태그/즐겨찾기/방문 예정 | 리스트/필터/정렬/상태 토글 |
| 지도 | 동선 파악, 상세 팝업 | 마커/경로/예상시간/혼잡도(후속) |
| 코스 생성/추천 | 후보 선택 → 자동 추천/수정 | 최적 순서/요약/편집 |
| 코스 공유 | 링크/코드 공유 | 읽기 전용 미리보기 |
| 알림/리마인더 | 방문 일정 설정 | 푸시 알림 발송 |

---

## 7. KPI / 측정
- 응답 시간: 링크 캐시 적중 p50 ≤ 1s, 미적중 p90 ≤ 30s
- 캐시 히트율: ≥ 40%
- 저장 전환: 링크 공유 → 장소 저장 성공률 ≥ 80%
- 코스 이용: 저장 사용자 중 코스 생성 비율 ≥ 40%, 공유 전환 ≥ 20%
- 재방문: D7 ≥ 25%

---

## 8. 접근성(A11y) / 국제화(I18n)
- 접근성: 최소 터치 타깃 44px, 대비 준수, 스크린리더 레이블 제공, 로딩/에러 상태에 대체 텍스트 제공
- 국제화: 다국어 문자열 분리, 날짜/시간/주소 포맷 로컬라이즈, 지도·경로 단위(km/mi) 자동 전환

---

## 9. 용어 사전(Glossary)
- 위시리스트: 저장해둔 방문 후보 장소 집합
- 코스: 방문 순서/이동경로/요약 정보를 가진 계획 단위
- 캐시 적중: 동일 URL 분석 결과를 재사용하여 즉시 응답하는 상태

---

## 10. 기술 제약(요약)
- 모바일: Flutter (iOS/Android)
- 백엔드: FastAPI, PostgreSQL, 캐시/큐: Redis/RabbitMQ, 지도: Kakao Map, 인증/알림: Firebase, AI: Gemini
