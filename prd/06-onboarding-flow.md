# PRD: 앱 온보딩 및 초기 설정

## 1. 기능 개요
**핵심 가치:** 처음 앱을 사용하는 사용자가 Hotly의 핵심 기능을 쉽고 빠르게 이해하고, 개인 맞춤 설정을 통해 즉시 가치를 경험할 수 있도록 안내한다.

**사용자 이점:** 복잡한 설명서 없이 3분 내에 첫 번째 장소 저장부터 코스 생성까지 체험하여 앱의 실용성을 바로 확인할 수 있다.

---

## 2. 페르소나(Persona)
**주 사용자:** 서연(23세, 대학생)
- **맥락:** 친구 추천으로 Hotly를 설치했지만 어떻게 시작해야 할지 모르겠음. 복잡한 앱은 바로 삭제하는 편
- **목표:** 앱의 핵심 기능을 빠르게 파악하고 내 첫 데이트 코스를 성공적으로 만들어보고 싶음
- **동기:** 다음 주말 남자친구와의 데이트 계획을 이 앱으로 세워보고 싶음
- **제약:** 긴 튜토리얼은 지루해서 스킵하고, 즉시 실용적 결과를 원함
- **성공 정의:** 5분 내 첫 코스 생성 완료, 앱 삭제 없이 일주일 이상 사용 지속

**핵심 Pain Points:**
1. **기능 이해 부족:** 어떤 순서로 무엇을 해야 하는지 모름
2. **빈 화면 두려움:** 아무것도 저장되지 않은 상태에서 어디서부터 시작할지 막막함
3. **즉시 가치 부재:** 설정만 하다가 정작 유용한 기능을 못 봐서 실망

---

## 3. 유저 스토리(User Stories)
- **신규 사용자**로서, 앱의 핵심 기능을 간단한 예시와 함께 보고 싶다. 그래서 무엇을 할 수 있는 앱인지 명확히 이해한다.
- **첫 경험자**로서, 복잡한 설정 없이 바로 핵심 기능을 체험하고 싶다. 그래서 앱의 가치를 즉시 확인한다.
- **개인화 추구자**로서, 내 취향과 상황에 맞는 초기 설정을 하고 싶다. 그래서 맞춤형 추천을 받는다.
- **동기부여 필요자**로서, 온보딩 완료 시 성취감과 다음 단계 안내를 받고 싶다. 그래서 지속적으로 앱을 사용한다.

---

## 4. 유저 플로우(User Flow)

### 4-1. 앱 설치 후 첫 실행 플로우
1. **스플래시 화면:** Hotly 로고 + 로딩 (2초)
2. **환영 인트로:** "AI가 SNS 링크로 데이트 코스를 만들어드려요" (스킵 가능)
3. **핵심 기능 소개:** 3개 화면으로 주요 기능 시연 (링크 분석 → 코스 추천 → 공유)
4. **계정 설정:** Firebase Auth 로그인 또는 "나중에" 선택
5. **기본 설정:** 지역, 이동수단, 관심 카테고리 선택
6. **첫 체험:** 예시 링크로 장소 분석 체험 또는 인기 코스 둘러보기

### 4-2. 기본 설정 플로우
1. **위치 설정:** "주로 어느 지역에서 데이트하세요?" (GPS 또는 수동 선택)
2. **이동수단:** 도보/대중교통/자차 중 주 사용 수단 선택
3. **관심 분야:** 카페/맛집/관광지/쇼핑/문화시설 중 관심도 설정 (별점)
4. **알림 설정:** 푸시 알림 허용 여부 및 시간대 설정
5. **설정 완료:** "설정이 완료되었어요! 첫 코스를 만들어볼까요?"

### 4-3. 첫 체험 가이드 플로우
1. **체험 선택:** "예시로 체험해보기" vs "내 링크로 시작하기"
2. **예시 체험:** 미리 준비된 인스타그램 링크로 분석 과정 시연
3. **결과 확인:** 추출된 장소 정보를 카드로 확인, 저장 체험
4. **코스 생성:** 저장된 장소 + 추천 장소로 첫 코스 자동 생성
5. **완료 축하:** "첫 코스 완성! 이제 친구와 공유해보세요" + 다음 액션 제안

### 4-4. 건너뛰기/에러 플로우
- **전체 건너뛰기:** "나중에 설정" → 메인 화면으로 바로 이동
- **단계별 건너뛰기:** 각 설정 화면에서 "건너뛰기" 옵션 제공
- **로그인 실패:** 게스트 모드로 기본 기능 체험 후 추후 가입 유도
- **위치 권한 거부:** 수동 지역 선택으로 대체, 기능 제한 안내

---

## 5. 수용 기준(Acceptance Criteria)

| ID | 시나리오 | Given | When | Then |
|----|----------|-------|------|------|
| AC-01 | 빠른 온보딩 | 앱 첫 설치 | 온보딩 시작 시 | 전체 과정 5분 이내 완료 가능 |
| AC-02 | 건너뛰기 허용 | 온보딩 진행 중 | 사용자가 건너뛰기 선택 | 메인 기능 접근 가능, 나중에 설정 유도 |
| AC-03 | 즉시 가치 체험 | 기본 설정 완료 | 첫 체험 가이드 실행 | 3분 내 첫 장소 저장 또는 코스 생성 완료 |
| AC-04 | 개인화 반영 | 관심 분야 설정됨 | 메인 화면 진입 시 | 설정 기반 맞춤 콘텐츠/추천 표시 |
| AC-05 | 재방문 인식 | 온보딩 완료된 사용자 | 앱 재실행 시 | 온보딩 화면 생략, 바로 메인 화면 |
| AC-06 | 진행률 표시 | 온보딩 진행 중 | 각 단계에서 | 현재 단계와 전체 진행률 시각적 표시 |
| AC-07 | 에러 복구 | 설정 중 오류 발생 | 네트워크/권한 오류 시 | 적절한 대안과 재시도 옵션 제공 |

---

## 6. 상충/의존성 점검(Conflict Matrix)

| 항목 | 잠재 충돌 | 정책/해결 |
|------|-----------|-----------|
| 속도 vs 완성도 | 빠른 진행 vs 충분한 설정 | 핵심 설정만 온보딩, 세부 설정은 이후 점진적 수집 |
| 체험 vs 실제 사용 | 예시 체험 vs 개인 데이터 | 체험 후 "내 데이터로 시작하기" 자연스럽게 연결 |
| 개인화 vs 복잡성 | 맞춤 설정 vs 단순함 | 기본값 제공 + 선택적 커스터마이징 |
| 로그인 vs 접근성 | 계정 생성 vs 즉시 사용 | 게스트 모드로 기능 체험 후 점진적 가입 유도 |

---

## 7. 기능별 상세 명세

### 7-1. 인트로 화면 구성
```
화면 1: 문제 제기
"SNS에서 본 핫플, 어디에 저장하시나요?"
[인스타 스크린샷들 스택 애니메이션]

화면 2: 솔루션 제시
"링크만 공유하면 AI가 장소를 찾아드려요"
[링크 → AI 분석 → 장소 카드 애니메이션]

화면 3: 결과 가치
"최적 코스로 완벽한 데이트를 계획하세요"
[지도에서 코스 경로 그려지는 애니메이션]
```

### 7-2. 기본 설정 항목
```
필수 설정:
├── 📍 주 활동 지역 (서울, 경기, 부산 등)
├── 🚶 이동 수단 (도보, 대중교통, 자차)
└── ❤️ 관심 분야 (카페, 맛집, 관광지 등)

선택 설정:
├── 🔔 알림 허용 (전체, 중요한 것만, 끔)
├── 🌙 알림 조용시간 (22:00-08:00)
└── 🎨 테마 (라이트, 다크, 자동)
```

### 7-3. 체험 시나리오
```
예시 링크: "홍대 감성 카페 VIBE"
↓
AI 분석 결과:
- 장소명: 카페 VIBE
- 주소: 서울 마포구 홍익로 XX
- 카테고리: 카페, 디저트
- 특징: 루프탑, 인스타 감성
↓
"저장하시겠어요?" → 위시리스트 추가
↓
"비슷한 장소들로 코스를 만들어볼까요?"
→ 홍대 카페 투어 코스 자동 생성
```

### 7-4. 온보딩 데이터 스키마
```json
{
  "userId": "string",
  "onboardingCompleted": "boolean",
  "completedAt": "timestamp",
  "skippedSteps": "string[]",
  "preferences": {
    "region": "string",
    "transportMethods": "string[]",
    "interests": {
      "cafe": "number (1-5)",
      "restaurant": "number (1-5)",
      "tourist": "number (1-5)",
      "shopping": "number (1-5)",
      "culture": "number (1-5)"
    },
    "notifications": {
      "enabled": "boolean",
      "quietHours": "HH:mm-HH:mm"
    }
  }
}
```

---

## 8. KPI / 측정 지표

### 8-1. 온보딩 완성도
- **완료율:** 온보딩 시작 → 완료 비율 ≥ 70%
- **완료 시간:** 평균 온보딩 소요시간 ≤ 5분
- **건너뛰기 비율:** 전체 건너뛰기 비율 ≤ 30%

### 8-2. 첫 사용 경험
- **첫 액션 완료:** 온보딩 후 24시간 내 첫 장소 저장 ≥ 50%
- **첫 코스 생성:** 온보딩 후 48시간 내 첫 코스 생성 ≥ 30%
- **재방문률:** D1 ≥ 60%, D7 ≥ 40%

### 8-3. 설정 활용도
- **개인화 활용:** 설정 기반 추천 클릭률 ≥ 25%
- **설정 완성도:** 기본 설정 항목 평균 완료율 ≥ 80%
- **나중 설정 전환:** 건너뛴 설정의 후속 완료율 ≥ 40%

---

## 9. UI/UX 가이드라인

### 9-1. 진행률 표시
```
상단 진행률 바:
[●●●○○] 3/5 단계
60% 완료

또는 도트 방식:
● ● ● ○ ○
```

### 9-2. 인터랙션 패턴
```
버튼 배치:
┌─────────────────────────┐
│                         │
│     메인 콘텐츠          │
│                         │
├─────────────────────────┤
│ [이전]    [건너뛰기] [다음] │ ← 하단 고정
└─────────────────────────┘

프라이머리: [다음] (파란색, 굵게)
세컨더리: [건너뛰기] (회색, 텍스트)
터셔리: [이전] (회색, 아웃라인)
```

### 9-3. 애니메이션 가이드
- **화면 전환:** 슬라이드 인/아웃 (300ms)
- **기능 시연:** 스텝별 등장 애니메이션 (500ms 간격)
- **완료 축하:** 체크마크 + 파티클 효과
- **로딩:** 스켈레톤 UI + 부드러운 페이드인

---

## 10. 접근성 / 국제화

### 10-1. 접근성
- **스크린리더:** 각 단계와 진행률 음성 안내
- **키보드 탐색:** Tab 키로 모든 요소 접근 가능
- **고대비:** 배경과 텍스트 명도 차이 4.5:1 이상
- **터치 영역:** 버튼 최소 44px, 여백 8px

### 10-2. 국제화
- **온보딩 텍스트:** 한국어/영어 버전 제공
- **지역 설정:** 국가별 주요 도시 리스트
- **예시 콘텐츠:** 지역별 인기 장소로 시연
- **문화 적응:** 지역별 선호 이동수단/카테고리 반영

---

## 11. A/B 테스트 계획

### 11-1. 테스트 항목
```
A/B 테스트 후보:
├── 인트로 화면 수 (3개 vs 5개)
├── 체험 방식 (예시 링크 vs 인기 코스)
├── 설정 순서 (지역→취향 vs 취향→지역)
└── 완료 보상 (텍스트 축하 vs 첫 코스 선물)
```

### 11-2. 성공 지표
- **주요 지표:** D7 유지율 (40% 목표)
- **보조 지표:** 온보딩 완료율, 첫 액션 시간
- **정성적 지표:** 사용자 피드백 점수

---

## 12. 기술 구현

### 12-1. 상태 관리
- **Flutter:** Provider 패턴으로 온보딩 상태 관리
- **진행률 저장:** 로컬 스토리지에 단계별 완료 여부
- **설정 동기화:** 완료 시 서버에 사용자 프리퍼런스 저장

### 12-2. 성능 최적화
- **이미지 프리로딩:** 온보딩 이미지 사전 캐싱
- **지연 로딩:** 현재 단계+1 화면만 메모리 보관
- **애니메이션 최적화:** GPU 가속 활용, 60fps 유지

---

## 13. 용어 사전(Glossary)
- **온보딩:** 신규 사용자를 위한 앱 소개 및 초기 설정 과정
- **첫 체험:** 실제 기능을 간소화해서 미리 경험해보는 과정
- **점진적 설정:** 필수 설정만 먼저 하고 세부 설정은 나중에 하는 방식
- **게스트 모드:** 로그인 없이 제한적으로 기능을 사용할 수 있는 상태
- **개인화:** 사용자 설정을 기반으로 맞춤형 콘텐츠를 제공하는 것

---

## 14. 기술 제약
- **온보딩 시간:** 전체 과정 10분 이내 (권장 5분)
- **이미지/영상:** 총 용량 5MB 이내 (초기 다운로드)
- **애니메이션:** 저사양 기기에서도 30fps 이상 유지
- **오프라인:** 네트워크 없이도 기본 온보딩 진행 가능

---

## Changelog
- 2025-01-XX: 초기 문서 작성 (작성자: Claude)
