# PRD: 사용자 프로필 및 설정 관리

## 1. 기능 개요
**핵심 가치:** 사용자 개인정보와 앱 사용 환경을 체계적으로 관리하고, 개인의 데이트 스타일과 선호도를 반영한 맞춤형 설정을 통해 더 나은 사용 경험을 제공한다.

**사용자 이점:** 한 곳에서 모든 계정 정보와 앱 설정을 관리하며, 개인 취향에 맞는 추천과 편의 기능을 통해 앱 사용의 만족도를 극대화할 수 있다.

---

## 2. 페르소나(Persona)
**주 사용자:** 재현(30세, 마케터)
- **맥락:** 6개월 사용하며 데이터가 쌓였지만 개인 정보 관리와 알림 설정을 세밀하게 조절하고 싶음
- **목표:** 내 데이트 패턴과 취향을 분석해보고, 불필요한 알림은 끄고 필요한 기능은 최적화하고 싶음
- **동기:** 더 스마트한 앱 사용을 통해 데이트 준비 시간을 줄이고 성공률을 높이고 싶음
- **제약:** 복잡한 설정 메뉴는 어려워하고, 개인정보 노출은 최소화하고 싶음
- **성공 정의:** 내 사용 패턴 파악, 맞춤형 추천 만족도 향상, 설정 변경의 즉시 반영

**핵심 Pain Points:**
1. **설정 복잡성:** 어디서 무엇을 설정해야 하는지 찾기 어려움
2. **개인정보 불안:** 어떤 정보가 저장되고 어떻게 사용되는지 불투명
3. **개인화 부족:** 내 취향과 패턴에 맞지 않는 일률적인 추천과 알림

---

## 3. 유저 스토리(User Stories)
- **정보 관리자**로서, 내 기본 프로필 정보를 쉽게 수정하고 공개 범위를 설정하고 싶다. 그래서 원하는 만큼만 정보를 공유한다.
- **맞춤형 사용자**로서, 내 데이트 스타일과 선호도를 설정해서 더 정확한 추천을 받고 싶다. 그래서 만족도 높은 장소와 코스를 발견한다.
- **통계 확인자**로서, 내가 얼마나 많은 장소를 저장했고 어떤 패턴으로 사용하는지 보고 싶다. 그래서 내 데이트 습관을 객관적으로 파악한다.
- **프라이버시 중시자**로서, 내 데이터가 어떻게 사용되는지 투명하게 알고 통제하고 싶다. 그래서 안심하고 앱을 사용한다.

---

## 4. 유저 플로우(User Flow)

### 4-1. 프로필 관리 플로우
1. **프로필 진입:** 메인 화면에서 프로필 아이콘 또는 "내 정보" 선택
2. **정보 확인:** 현재 프로필 사진, 닉네임, 이메일, 가입일 등 기본 정보 표시
3. **편집 모드:** "수정" 버튼으로 편집 가능한 필드들 활성화
4. **정보 변경:** 프로필 사진, 닉네임, 소개글, 관심사 등 수정
5. **저장 확인:** 변경사항 저장 및 실시간 반영 확인

### 4-2. 설정 관리 플로우
1. **설정 메뉴:** 프로필 화면에서 "설정" 또는 톱니바퀴 아이콘 선택
2. **카테고리별 분류:** 알림, 개인정보, 앱 사용, 계정 관리 등 영역별 구분
3. **세부 설정:** 각 영역의 ON/OFF 스위치나 옵션 선택
4. **즉시 적용:** 설정 변경 시 실시간 반영 및 확인 메시지
5. **초기화 옵션:** 전체 또는 영역별 설정 초기화 기능

### 4-3. 통계 및 활동 확인 플로우
1. **활동 요약:** "내 활동" 메뉴에서 전체 사용 통계 표시
2. **상세 분석:** 저장한 장소 수, 생성한 코스 수, 주요 활동 지역 등
3. **패턴 분석:** 자주 가는 카테고리, 선호 시간대, 동반자 유형 등
4. **히스토리:** 최근 활동 내역과 중요한 이벤트 타임라인
5. **데이터 내보내기:** 개인 데이터를 파일로 다운로드 옵션

### 4-4. 계정 관리 플로우
1. **보안 설정:** 비밀번호 변경, 2단계 인증, 로그인 기기 관리
2. **데이터 관리:** 개인 데이터 다운로드, 특정 정보 삭제 요청
3. **계정 연동:** 소셜 계정 연결/해제, 이메일 주소 변경
4. **탈퇴 절차:** 계정 삭제 요청 및 데이터 완전 삭제 확인
5. **복구 옵션:** 실수로 삭제한 경우 30일 내 복구 가능

---

## 5. 수용 기준(Acceptance Criteria)

| ID | 시나리오 | Given | When | Then |
|----|----------|-------|------|------|
| AC-01 | 프로필 수정 반영 | 로그인된 사용자 | 닉네임 변경 후 저장 | 3초 이내 모든 화면에서 새 닉네임 표시 |
| AC-02 | 설정 즉시 적용 | 알림 설정 화면 | 푸시 알림 ON/OFF 전환 | 즉시 시스템 알림 설정 변경 및 확인 메시지 |
| AC-03 | 통계 정확성 | 활동 데이터 존재 | 통계 화면 진입 | 실제 사용 데이터와 일치하는 정확한 수치 표시 |
| AC-04 | 데이터 다운로드 | 개인정보 다운로드 요청 | "데이터 내보내기" 실행 | 24시간 내 이메일로 JSON/CSV 파일 전송 |
| AC-05 | 개인정보 삭제 | 특정 데이터 삭제 요청 | 삭제 요청 승인 | 해당 정보가 모든 시스템에서 완전 삭제 |
| AC-06 | 계정 탈퇴 처리 | 계정 삭제 요청 | 탈퇴 절차 완료 | 30일 후 모든 개인 데이터 영구 삭제 |
| AC-07 | 설정 동기화 | 여러 기기 사용 | 한 기기에서 설정 변경 | 모든 연결된 기기에서 동일하게 적용 |

---

## 6. 상충/의존성 점검(Conflict Matrix)

| 항목 | 잠재 충돌 | 정책/해결 |
|------|-----------|-----------|
| 개인화 vs 프라이버시 | 맞춤 서비스 vs 정보 보호 | 선택적 정보 제공, 투명한 사용 목적 공개 |
| 기능 풍부 vs 복잡성 | 다양한 설정 vs 사용 편의 | 기본/고급 설정 분리, 검색 기능 제공 |
| 실시간 vs 성능 | 즉시 반영 vs 서버 부하 | 중요 설정만 실시간, 일반 설정은 배치 처리 |
| 데이터 보존 vs 삭제권 | 서비스 품질 vs 개인정보 자기결정권 | 법적 보존 기간 준수 + 선택적 삭제 지원 |

---

## 7. 기능별 상세 명세

### 7-1. 프로필 정보 구조
```
공개 정보 (다른 사용자에게 보임):
├── 프로필 사진
├── 닉네임
├── 소개글 (선택사항)
└── 관심 지역 (선택사항)

비공개 정보 (본인만 확인):
├── 이메일 주소
├── 전화번호 (선택사항)
├── 생년월일 (선택사항)
├── 가입일
└── 최근 활동일
```

### 7-2. 개인화 설정 항목
```
데이트 스타일:
├── 주 활동 지역 (서울 강남구)
├── 선호 이동 수단 (대중교통)
├── 주 활동 시간대 (주말 오후)
├── 동반자 유형 (연인, 친구, 혼자)
└── 예산 범위 (1만원~3만원)

관심사 설정:
├── 카테고리별 관심도 (1-5점)
├── 분위기 선호도 (조용함~활기참)
├── 신규 vs 검증된 장소 선호
└── 인기도 vs 독특함 선호
```

### 7-3. 알림 설정 체계
```
📱 푸시 알림:
├── 전체 알림 ON/OFF
├── 데이트 일정 관련 알림
├── 새로운 추천 알림
├── 친구 활동 알림 (공유, 댓글 등)
└── 중요 공지사항

⏰ 시간 설정:
├── 조용한 시간 (22:00-08:00)
├── 주말만 알림
└── 즉시 vs 일일 요약

📧 이메일 알림:
├── 중요 계정 변경사항
├── 주간/월간 활동 요약
└── 마케팅/프로모션 정보
```

### 7-4. 사용자 데이터 스키마
```json
{
  "profile": {
    "displayName": "string",
    "photoURL": "string?",
    "bio": "string?",
    "location": "string?",
    "interests": "string[]"
  },
  "preferences": {
    "region": "string",
    "transport": "string[]",
    "timeSlot": "string",
    "budget": {"min": number, "max": number},
    "companionType": "string[]",
    "categoryRatings": {
      "cafe": number,
      "restaurant": number,
      "tourist": number
    }
  },
  "settings": {
    "notifications": {
      "push": boolean,
      "email": boolean,
      "quietHours": {"start": "HH:mm", "end": "HH:mm"}
    },
    "privacy": {
      "profileVisible": boolean,
      "activityVisible": boolean,
      "dataAnalytics": boolean
    }
  },
  "stats": {
    "placesCount": number,
    "coursesCount": number,
    "joinedAt": timestamp,
    "lastActiveAt": timestamp
  }
}
```

---

## 8. KPI / 측정 지표

### 8-1. 프로필 완성도
- **기본 정보 완성률:** 필수 정보(닉네임, 프로필 사진) 설정 ≥ 80%
- **선택 정보 제공률:** 소개글, 관심사 등 추가 정보 제공 ≥ 40%
- **프로필 업데이트 빈도:** 월 1회 이상 정보 수정 ≥ 25%

### 8-2. 설정 활용도
- **개인화 설정률:** 기본값에서 개인 취향으로 변경 ≥ 60%
- **알림 최적화률:** 기본 알림 설정에서 개인화 조정 ≥ 50%
- **설정 만족도:** 설정 변경 후 원복 비율 ≤ 20%

### 8-3. 사용자 참여도
- **통계 확인률:** 월 1회 이상 통계 화면 방문 ≥ 30%
- **프로필 관리 빈도:** 월 1회 이상 프로필 메뉴 접근 ≥ 70%
- **설정 조정 빈도:** 분기 1회 이상 설정 변경 ≥ 40%

---

## 9. UI/UX 가이드라인

### 9-1. 프로필 메인 화면
```
┌─────────────────────────┐
│ [← 뒤로]       [설정 ⚙️] │
├─────────────────────────┤
│     👤                  │
│   프로필 사진            │
│                         │
│   홍길동 ✏️              │
│   안녕하세요! 데이트...    │
│                         │
│ 📊 내 활동               │
│ 장소 23개 | 코스 5개      │
│                         │
│ 📈 이번 달 활동          │
│ 장소 3개 저장 | 코스 1개   │
└─────────────────────────┘
```

### 9-2. 설정 메뉴 구조
```
⚙️ 설정
├── 👤 프로필 관리
│   ├── 기본 정보 수정
│   ├── 관심사 설정
│   └── 공개 범위 설정
├── 🔔 알림 설정
│   ├── 푸시 알림
│   ├── 이메일 알림
│   └── 조용한 시간
├── 🎯 개인화 설정
│   ├── 데이트 스타일
│   ├── 추천 기준
│   └── 지역/교통 설정
├── 🔐 개인정보 및 보안
│   ├── 비밀번호 변경
│   ├── 계정 연동 관리
│   └── 로그인 기기 관리
├── 📊 데이터 관리
│   ├── 내 데이터 다운로드
│   ├── 특정 정보 삭제
│   └── 사용 통계 보기
└── ❌ 계정 관리
    ├── 계정 일시 비활성화
    └── 계정 삭제
```

### 9-3. 통계 대시보드
```
📊 내 활동 요약

🗓️ 가입일: 2024년 3월 15일 (295일 전)

📍 저장한 장소
┌─────────────────────────┐
│ 총 23개                  │
│ ☕ 카페 12개 (52%)       │
│ 🍽️ 맛집 8개 (35%)        │
│ 🎪 관광지 3개 (13%)       │
└─────────────────────────┘

🎯 생성한 코스
┌─────────────────────────┐
│ 총 5개                   │
│ 📅 이번 달 1개            │
│ 🔗 공유된 코스 3개        │
│ 💬 받은 댓글 12개         │
└─────────────────────────┘
```

---

## 10. 접근성 / 국제화

### 10-1. 접근성
- **스크린리더:** 설정 항목별 상세 설명 음성 제공
- **키보드 탐색:** 모든 설정을 키보드로 변경 가능
- **시각적 구분:** 활성/비활성 상태를 색상+아이콘으로 명확히 표시
- **큰 글씨:** 설정 텍스트 크기 조절 옵션

### 10-2. 국제화
- **개인정보 정책:** 지역별 법적 요구사항 반영
- **날짜 형식:** 지역별 표준 날짜/시간 형식
- **통화 단위:** 예산 설정을 현지 통화로 표시
- **문화적 고려:** 지역별 데이트 문화와 관습 반영

---

## 11. 프라이버시 및 보안

### 11-1. 개인정보 보호 원칙
```
데이터 최소화:
├── 서비스 운영에 필수적인 정보만 수집
├── 선택적 정보는 명시적 동의 후 수집
└── 수집 목적 달성 시 즉시 삭제

투명성:
├── 수집하는 정보와 사용 목적 명확 고지
├── 제3자 제공/공유 현황 투명 공개
└── 개인정보 처리 현황 대시보드 제공

사용자 통제권:
├── 언제든 정보 수정/삭제 가능
├── 데이터 다운로드 권리 보장
└── 동의 철회 시 즉시 처리 중단
```

### 11-2. 보안 강화 방안
- **데이터 암호화:** 민감정보 AES-256 암호화 저장
- **접근 권한 관리:** 최소 권한 원칙 적용
- **감사 로그:** 개인정보 접근/수정 이력 기록
- **정기 보안 점검:** 분기별 보안 취약점 점검

---

## 12. 데이터 분석 및 인사이트

### 12-1. 개인 통계 제공
```
사용 패턴 분석:
├── 주요 활동 시간대 (주말 오후 2-6시)
├── 선호 지역 TOP 3 (홍대, 강남, 신촌)
├── 관심 카테고리 분포 (카페 60%, 맛집 30%, 관광 10%)
└── 계절별 활동 변화 (여름: 실내, 겨울: 카페 집중)

성과 지표:
├── 코스 완주율 (계획 대비 실제 방문)
├── 추천 정확도 (추천받은 장소 저장율)
├── 공유 활성도 (공유한/받은 코스 수)
└── 발견 다양성 (새로운 지역/카테고리 도전)
```

### 12-2. 맞춤형 인사이트
- **트렌드 알림:** "이번 달 카페 탐방이 평소보다 2배 많아요!"
- **추천 개선:** "관광지도 좋아하실 것 같아요. 새로운 장소를 추천해드릴까요?"
- **목표 설정:** "이번 분기 새로운 지역 5곳 도전해보세요!"

---

## 13. 고급 기능

### 13-1. 프로필 백업/복원
- **클라우드 백업:** Google Drive/iCloud에 설정 자동 백업
- **기기 간 동기화:** 여러 기기에서 동일한 설정 유지
- **설정 내보내기:** 다른 사용자와 설정 템플릿 공유

### 13-2. AI 기반 개인화
- **스마트 추천:** 사용 패턴 학습으로 맞춤형 장소/코스 제안
- **자동 설정 조정:** 행동 패턴 기반 알림 시간 자동 최적화
- **패턴 인사이트:** "당신의 데이트 스타일은 '힙한 탐험가' 타입이에요"

---

## 14. 용어 사전(Glossary)
- **프로필:** 사용자의 기본 정보와 공개 설정을 담은 개인 페이지
- **개인화 설정:** 사용자 취향과 패턴을 반영한 맞춤형 환경 구성
- **데이터 포터빌리티:** 개인 데이터를 다른 서비스로 이전할 수 있는 권리
- **활동 통계:** 앱 사용 패턴과 성과를 수치화한 개인 리포트
- **개인정보 자기결정권:** 본인의 정보를 통제할 수 있는 기본권

---

## 15. 기술 제약
- **실시간 동기화:** 설정 변경 시 모든 기기에 5초 내 반영
- **데이터 내보내기:** 요청 후 24시간 내 파일 생성 및 전송
- **백업 용량:** 사용자당 최대 100MB 클라우드 저장
- **통계 처리:** 일일 배치로 통계 업데이트 (실시간 아님)

---

## Changelog
- 2025-01-XX: 초기 문서 작성 (작성자: Claude)