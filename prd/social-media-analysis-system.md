# PRD: ì†Œì…œ ë¯¸ë””ì–´ ì½˜í…ì¸  ì¢…í•© ë¶„ì„ ì‹œìŠ¤í…œ

**ë²„ì „**: 2.0
**ì‘ì„±ì¼**: 2025-01-06
**ìƒíƒœ**: ìŠ¹ì¸ë¨ (Approved)
**ë‹´ë‹¹**: link-analyzer ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤

---

## ğŸ“‹ Executive Summary

ë©€í‹° í”Œë«í¼ ì†Œì…œ ë¯¸ë””ì–´ ì½˜í…ì¸ (Instagram, TikTok, YouTube, YouTube Shorts)ë¥¼ ì¢…í•©ì ìœ¼ë¡œ ë¶„ì„í•˜ì—¬ hotly-appì˜ í•µì‹¬ ë°ì´í„°ë¥¼ ì œê³µí•˜ëŠ” ì‹œìŠ¤í…œ. ì˜ìƒ, ì‚¬ì§„, í…ìŠ¤íŠ¸ë¥¼ êµ¬ë¶„í•˜ì—¬ ë¶„ì„í•˜ê³ , ìŒì‹ì /ì¹´í˜, ì—¬í–‰ì§€, ì œí’ˆ ë¦¬ë·°, ê±´ê°• ì •ë³´ ë“± ë‹¤ì–‘í•œ ì½˜í…ì¸ ë¥¼ ìë™ìœ¼ë¡œ ë¶„ë¥˜í•˜ê³  í•µì‹¬ ì •ë³´ë¥¼ ì¶”ì¶œí•œë‹¤.

### ëª©í‘œ
- **ë©€í‹° í”Œë«í¼ ì§€ì›**: Instagram, TikTok, YouTube, YouTube Shorts
- **ì˜ìƒ/ì‚¬ì§„/í…ìŠ¤íŠ¸ êµ¬ë¶„ ë¶„ì„**: í”Œë«í¼ë³„ íŠ¹ì„±ì— ë§ëŠ” ì²˜ë¦¬ íŒŒì´í”„ë¼ì¸
- **Gemini ë¹„ë””ì˜¤ ë¶„ì„**: YouTubeëŠ” URL ì§ì ‘ ì „ë‹¬, ê¸°íƒ€ëŠ” ë‹¤ìš´ë¡œë“œ í›„ ë¶„ì„
- AI ê¸°ë°˜ ìë™ ì¹´í…Œê³ ë¦¬ ë¶„ë¥˜ ë° ì •ë³´ ì¶”ì¶œ
- **í”„ë¡œí† íƒ€ì… ì¤‘ì‹¬**: ê¸°ëŠ¥ ê²€ì¦ ìš°ì„ , ë‹¨ìˆœí•œ ë™ê¸° ì²˜ë¦¬
- ë¹„ìš© íš¨ìœ¨ì ì¸ MVP êµ¬í˜„ (ì›” ~$10)

### ë²”ìœ„
- **Phase 1 (3ì£¼)**: í”„ë¡œí† íƒ€ì… êµ¬í˜„ - ë™ê¸° ì²˜ë¦¬, ê¸°ëŠ¥ ê²€ì¦
- **Phase 2 (í–¥í›„)**: ë¹„ë™ê¸° ì²˜ë¦¬ ì¶”ê°€, í™•ì¥ì„± ê°œì„ 
- **Phase 3 (í–¥í›„)**: í”„ë¡œë•ì…˜ ì¤€ë¹„, ì›” 10,000ê°œ ì´ìƒ ëŒ€ì‘

---

## ğŸ¯ ì‚¬ìš©ì ìš”êµ¬ì‚¬í•­

### ë¶„ì„ ë²”ìœ„
1. **ìŒì‹ì /ì¹´í˜ ì •ë³´**
   - ë©”ë‰´, ê°€ê²©ëŒ€, íŠ¹ì§•
   - ë¶„ìœ„ê¸°, ì£¼ì°¨, í¸ì˜ì‹œì„¤
   - ì˜ì—…ì‹œê°„, ìœ„ì¹˜

2. **ì—¬í–‰ì§€/ê´€ê´‘ì§€ ì •ë³´**
   - ìœ„ì¹˜, ì…ì¥ë£Œ, ìš´ì˜ì‹œê°„
   - ì£¼ìš” ë³¼ê±°ë¦¬, ì¶”ì²œ í™œë™
   - ê³„ì ˆë³„ íŠ¹ì§•

3. **ì œí’ˆ ë¦¬ë·°**
   - ì œí’ˆ ì •ë³´, ê°€ê²©
   - ì¥ë‹¨ì , ì‚¬ìš© í›„ê¸°
   - êµ¬ë§¤ì²˜ ì •ë³´

4. **ê±´ê°• ì •ë³´**
   - ìš´ë™, ì‹ë‹¨, ì›°ë‹ˆìŠ¤
   - ì „ë¬¸ê°€ ì¡°ì–¸, íŒ

5. **ìƒí™œ ì§€ì‹**
   - ìƒí™œ íŒ, ë…¸í•˜ìš°
   - DIY, ì¸í…Œë¦¬ì–´ ë“±

### ë¶„ì„ ìš°ì„ ìˆœìœ„
- **ìµœìš°ì„ **: ëª¨ë“  ë¹„ë””ì˜¤ì˜ ìŒì„± ì „ì‚¬ + í”„ë ˆì„ OCR
- **ì¤‘ìš”**: ì´ë¯¸ì§€ ë‚´ í…ìŠ¤íŠ¸ ì¶”ì¶œ (ë©”ë‰´íŒ, ê°„íŒ ë“±)
- **í•„ìˆ˜**: AI ê¸°ë°˜ ìë™ ì¹´í…Œê³ ë¦¬ ë¶„ë¥˜

---

## ğŸ—ï¸ ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

### ì „ì²´ íë¦„
```
[ì‚¬ìš©ì ìš”ì²­: ì†Œì…œ ë¯¸ë””ì–´ URL]
    â†“
[link-analyzer API Gateway]
    â†“
[í”Œë«í¼ ê°ì§€ & ë¼ìš°íŒ…]
    â”œâ”€ YouTube/Shorts â†’ [YouTube íŒŒì´í”„ë¼ì¸]
    â”œâ”€ Instagram â†’ [Instagram íŒŒì´í”„ë¼ì¸]
    â””â”€ TikTok â†’ [TikTok íŒŒì´í”„ë¼ì¸]
    â†“
[í”Œë«í¼ë³„ ë©”íƒ€ë°ì´í„° ì¶”ì¶œ]
    â”œâ”€ [YouTube] â†’ YouTube Data API v3
    â”‚   - ì œëª©, ì„¤ëª…, íƒœê·¸
    â”‚   - ì±„ë„ ì •ë³´
    â”‚   - ê³µê°œ URL (ë¹„ë””ì˜¤)
    â”‚
    â”œâ”€ [Instagram] â†’ yt-dlp + ë©”íƒ€ë°ì´í„° íŒŒì‹±
    â”‚   - ìº¡ì…˜, í•´ì‹œíƒœê·¸
    â”‚   - ìœ„ì¹˜ ì •ë³´ (ì„ íƒì )
    â”‚   - ì´ë¯¸ì§€/ë¹„ë””ì˜¤ ë‹¤ìš´ë¡œë“œ
    â”‚
    â””â”€ [TikTok] â†’ yt-dlp + ë©”íƒ€ë°ì´í„° íŒŒì‹±
        - ì„¤ëª…, í•´ì‹œíƒœê·¸
        - ìŒì•… ì •ë³´
        - ë¹„ë””ì˜¤ ë‹¤ìš´ë¡œë“œ
    â†“
[ì½˜í…ì¸  íƒ€ì…ë³„ ë¶„ì„ ë¼ìš°íŒ…]
    â”œâ”€ [ë¹„ë””ì˜¤] â†’ Gemini Video Analysis
    â”‚   â”œâ”€ YouTube: URL ì§ì ‘ ì „ë‹¬ (ë‹¤ìš´ë¡œë“œ ë¶ˆí•„ìš”)
    â”‚   â”œâ”€ Instagram/TikTok: File API ì—…ë¡œë“œ
    â”‚   â””â”€ Gemini í†µí•© ë¶„ì„
    â”‚       - ë¹„ë””ì˜¤ í”„ë ˆì„ ë¶„ì„ (1fps)
    â”‚       - ìŒì„± ì „ì‚¬
    â”‚       - í”„ë ˆì„ ë‚´ í…ìŠ¤íŠ¸ ì¶”ì¶œ (OCR)
    â”‚
    â”œâ”€ [ì´ë¯¸ì§€] â†’ OCR Pipeline
    â”‚   - Gemini Vision APIë¡œ í†µí•© ë¶„ì„
    â”‚   - ì´ë¯¸ì§€ ë‚´ í…ìŠ¤íŠ¸, ê°ì²´, ì¥ë©´ ì¸ì‹
    â”‚
    â””â”€ [í…ìŠ¤íŠ¸] â†’ í•­ìƒ ì¶”ì¶œ
        - ì œëª©/ìº¡ì…˜
        - í•´ì‹œíƒœê·¸
        - ì„¤ëª…
    â†“
[í†µí•© ë°ì´í„° êµ¬ì¡°í™”]
    {
        "platform": "youtube|instagram|tiktok",
        "content_type": "video|image|carousel",
        "text_data": {
            "title": "ì œëª©",
            "caption": "ì„¤ëª…/ìº¡ì…˜",
            "hashtags": ["íƒœê·¸1", "íƒœê·¸2"],
            "extracted_text": ["OCR í…ìŠ¤íŠ¸"]
        },
        "video_analysis": {
            "transcript": "ìŒì„± ì „ì‚¬",
            "visual_elements": ["ì¥ë©´ ì„¤ëª…"]
        },
        "metadata": {...}
    }
    â†“
[AI ë¶„ì„ (Google Gemini)]
    â”œâ”€ ì¹´í…Œê³ ë¦¬ ë¶„ë¥˜
    â”‚   - ì£¼ ì¹´í…Œê³ ë¦¬: ìŒì‹ì /ì¹´í˜/ì—¬í–‰ì§€/ì œí’ˆ/ê±´ê°•/ìƒí™œ
    â”‚   - ì„œë¸Œ ì¹´í…Œê³ ë¦¬: í•œì‹/ì–‘ì‹/ì¹´í˜/í˜¸í…” ë“±
    â”‚
    â”œâ”€ í•µì‹¬ ì •ë³´ ì¶”ì¶œ
    â”‚   - ì¥ì†Œëª…, ìœ„ì¹˜, ì—°ë½ì²˜
    â”‚   - ë©”ë‰´/ì œí’ˆ, ê°€ê²©ëŒ€
    â”‚   - ì˜ì—…ì‹œê°„, í¸ì˜ì‹œì„¤
    â”‚   - ì£¼ìš” íŠ¹ì§•
    â”‚
    â”œâ”€ ê°ì„± ë¶„ì„
    â”‚   - ê¸ì •/ë¶€ì •/ì¤‘ë¦½ í‰ê°€
    â”‚   - ì¶”ì²œ ì—¬ë¶€
    â”‚
    â””â”€ ìš”ì•½ ìƒì„±
        - 2-3ë¬¸ì¥ í•µì‹¬ ìš”ì•½
        - ì£¼ìš” í‚¤ì›Œë“œ ì¶”ì¶œ
    â†“
[PostgreSQL ì €ì¥]
    â†“
[ì‘ë‹µ ë°˜í™˜]
```

### í”Œë«í¼ë³„ ì²˜ë¦¬ ì „ëµ

| í”Œë«í¼ | ë©”íƒ€ë°ì´í„° ì¶”ì¶œ | ë¹„ë””ì˜¤ ì²˜ë¦¬ | ë¹„ìš© íš¨ìœ¨ì„± |
|--------|----------------|-------------|------------|
| **YouTube** | YouTube Data API v3 | Gemini URL ì§ì ‘ (ë¬´ë£Œ*) | â­â­â­ ìµœê³  |
| **YouTube Shorts** | YouTube Data API v3 | Gemini URL ì§ì ‘ (ë¬´ë£Œ*) | â­â­â­ ìµœê³  |
| **Instagram** | yt-dlp | ë‹¤ìš´ë¡œë“œ â†’ File API | â­â­ ë³´í†µ |
| **TikTok** | yt-dlp | ë‹¤ìš´ë¡œë“œ â†’ File API | â­â­ ë³´í†µ |

*YouTubeëŠ” ì¼ì¼ 8ì‹œê°„ ì œí•œ

---

## ğŸ› ï¸ ê¸°ìˆ  ìŠ¤íƒ

### ì™¸ë¶€ ì„œë¹„ìŠ¤
| ì„œë¹„ìŠ¤ | ìš©ë„ | ë¹„ìš© (ì›” 1,000ê°œ ê¸°ì¤€) | ì„ íƒ ì´ìœ  |
|--------|-----|---------------------|----------|
| **YouTube Data API v3** | YouTube ë©”íƒ€ë°ì´í„° ì¶”ì¶œ | $0 (ë¬´ë£Œ ì¿¼í„°) | ê³µì‹ API, ì•ˆì •ì  |
| **Google Gemini 2.5** | ë¹„ë””ì˜¤/ì´ë¯¸ì§€ í†µí•© ë¶„ì„ | ê¸°ì¡´ API í™œìš© | ë¹„ë””ì˜¤ URL ì§ì ‘ ì§€ì›, OCR+ìŒì„± ì „ì‚¬ í†µí•© |
| **yt-dlp** | Instagram/TikTok ë‹¤ìš´ë¡œë“œ | ë¬´ë£Œ (ì˜¤í”ˆì†ŒìŠ¤) | ë²”ìš© ë‹¤ìš´ë¡œë”, í™œë°œí•œ ê°œë°œ |

### ì˜¤í”ˆì†ŒìŠ¤ ë¼ì´ë¸ŒëŸ¬ë¦¬
```python
# í”Œë«í¼ë³„ ë°ì´í„° ì¶”ì¶œ
yt-dlp==2024.1.1              # Instagram/TikTok ë¹„ë””ì˜¤ ë‹¤ìš´ë¡œë“œ
google-api-python-client==2.110.0  # YouTube Data API v3
requests==2.31.0              # HTTP ìš”ì²­
httpx==0.26.0                 # ë¹„ë™ê¸° HTTP

# AI/ML (í†µí•©)
google-genai==0.3.0           # Gemini 2.5 API (ë¹„ë””ì˜¤/ì´ë¯¸ì§€/í…ìŠ¤íŠ¸ í†µí•©)

# ìœ í‹¸ë¦¬í‹°
pydantic==2.5.3               # ë°ì´í„° ê²€ì¦
python-dotenv==1.0.0          # í™˜ê²½ ë³€ìˆ˜
```

### ì£¼ìš” ë³€ê²½ ì‚¬í•­
- **Deepgram ì œê±°**: Geminiê°€ ë¹„ë””ì˜¤ ìŒì„± ì „ì‚¬ ë‚´ì¥ ì§€ì›
- **Tesseract/Google Vision ì œê±°**: Geminiê°€ OCR ë‚´ì¥ ì§€ì›
- **FFmpeg/OpenCV ì œê±°**: Geminiê°€ í”„ë ˆì„ ì¶”ì¶œ/ë¶„ì„ ìë™ ì²˜ë¦¬
- **Apify ì œê±°**: yt-dlpë¡œ Instagram/TikTok ì§ì ‘ ì²˜ë¦¬

### ì¸í”„ë¼
- **ë°±ì—”ë“œ**: FastAPI (link-analyzer ì„œë¹„ìŠ¤)
- **ë°ì´í„°ë² ì´ìŠ¤**: PostgreSQL (ê¸°ì¡´)
- **ì²˜ë¦¬ ë°©ì‹**: ë™ê¸° ì²˜ë¦¬ (async/await)
- **ì»¨í…Œì´ë„ˆ**: Docker Compose

---

## ğŸ“¦ êµ¬í˜„ ë‹¨ê³„ë³„ ê³„íš

### Phase 1: ê¸°ë°˜ ì¸í”„ë¼ (3-4ì¼)

#### 1.1 í”„ë¡œì íŠ¸ êµ¬ì¡°
```
link-analyzer/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”œâ”€â”€ platform/
â”‚   â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”‚   â”œâ”€â”€ base.py              # ê¸°ë³¸ í”Œë«í¼ ì¸í„°í˜ì´ìŠ¤
â”‚   â”‚   â”‚   â”œâ”€â”€ youtube.py           # YouTube ë©”íƒ€ë°ì´í„° ì¶”ì¶œ
â”‚   â”‚   â”‚   â”œâ”€â”€ instagram.py         # Instagram yt-dlp ì¶”ì¶œ
â”‚   â”‚   â”‚   â””â”€â”€ tiktok.py            # TikTok yt-dlp ì¶”ì¶œ
â”‚   â”‚   â”œâ”€â”€ analysis/
â”‚   â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”‚   â”œâ”€â”€ gemini_video.py      # Gemini ë¹„ë””ì˜¤ ë¶„ì„
â”‚   â”‚   â”‚   â”œâ”€â”€ gemini_image.py      # Gemini ì´ë¯¸ì§€ ë¶„ì„
â”‚   â”‚   â”‚   â””â”€â”€ content_classifier.py # AI ë¶„ë¥˜/ë¶„ì„
â”‚   â”‚   â””â”€â”€ link_analyzer_service.py # í†µí•© ë¶„ì„ ì„œë¹„ìŠ¤
â”‚   â”œâ”€â”€ api/v1/endpoints/
â”‚   â”‚   â””â”€â”€ analyze.py               # í†µí•© ë¶„ì„ ì—”ë“œí¬ì¸íŠ¸
â”‚   â”œâ”€â”€ schemas/
â”‚   â”‚   â””â”€â”€ analysis.py              # Pydantic ìŠ¤í‚¤ë§ˆ
â”‚   â””â”€â”€ models/
â”‚       â””â”€â”€ analysis.py              # DB ëª¨ë¸
â””â”€â”€ tests/
    â”œâ”€â”€ unit/
    â”‚   â”œâ”€â”€ test_platform_extractors.py
    â”‚   â””â”€â”€ test_gemini_analysis.py
    â””â”€â”€ integration/
        â””â”€â”€ test_analysis_pipeline.py
```

#### 1.2 í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
```bash
# .env ì¶”ê°€ í•­ëª©
GEMINI_API_KEY=your_gemini_api_key
YOUTUBE_API_KEY=your_youtube_data_api_key

# ì‘ì—… ì„¤ì •
MAX_VIDEO_DURATION=600  # 10ë¶„ (YouTube Shorts ìµœëŒ€)
MAX_VIDEO_SIZE_MB=100
REQUEST_TIMEOUT=120  # API ìš”ì²­ íƒ€ì„ì•„ì›ƒ (ì´ˆ)
YOUTUBE_DAILY_QUOTA_LIMIT=8  # ì‹œê°„ (Gemini ë¬´ë£Œ ì œí•œ)
```

#### 1.3 Docker Compose ì—…ë°ì´íŠ¸
```yaml
# docker-compose.yml - ì¶”ê°€ ì„¤ì • ë¶ˆí•„ìš”
# ê¸°ì¡´ link-analyzer, postgres ì„œë¹„ìŠ¤ë§Œ ì‚¬ìš©
```

---

### Phase 2: í”Œë«í¼ë³„ ë©”íƒ€ë°ì´í„° ì¶”ì¶œ (3-4ì¼)

#### 2.1 ê¸°ë³¸ í”Œë«í¼ ì¸í„°í˜ì´ìŠ¤

**íŒŒì¼**: `app/services/platform/base.py`

```python
from abc import ABC, abstractmethod
from typing import Dict, Any, Optional
from enum import Enum

class Platform(str, Enum):
    YOUTUBE = "youtube"
    INSTAGRAM = "instagram"
    TIKTOK = "tiktok"

class ContentType(str, Enum):
    VIDEO = "video"
    IMAGE = "image"
    CAROUSEL = "carousel"

class PlatformExtractor(ABC):
    """í”Œë«í¼ë³„ ë©”íƒ€ë°ì´í„° ì¶”ì¶œ ê¸°ë³¸ ì¸í„°í˜ì´ìŠ¤"""

    @abstractmethod
    async def extract_metadata(self, url: str) -> Dict[str, Any]:
        """
        í”Œë«í¼ë³„ ë©”íƒ€ë°ì´í„° ì¶”ì¶œ

        Returns:
            {
                'platform': Platform,
                'content_type': ContentType,
                'url': str,
                'title': str,
                'description': str,
                'hashtags': List[str],
                'media_urls': Optional[List[str]],  # ë‹¤ìš´ë¡œë“œê°€ í•„ìš”í•œ ê²½ìš°
                'metadata': Dict[str, Any]  # í”Œë«í¼ë³„ ì¶”ê°€ ì •ë³´
            }
        """
        pass

    @staticmethod
    def detect_platform(url: str) -> Optional[Platform]:
        """URLì—ì„œ í”Œë«í¼ ìë™ ê°ì§€"""
        if "youtube.com" in url or "youtu.be" in url:
            return Platform.YOUTUBE
        elif "instagram.com" in url:
            return Platform.INSTAGRAM
        elif "tiktok.com" in url:
            return Platform.TIKTOK
        return None
```

#### 2.2 YouTube ì¶”ì¶œê¸°

**íŒŒì¼**: `app/services/platform/youtube.py`

```python
from googleapiclient.discovery import build
from googleapiclient.errors import HttpError

class YouTubeExtractor(PlatformExtractor):
    """YouTube Data API v3 ê¸°ë°˜ ë©”íƒ€ë°ì´í„° ì¶”ì¶œ"""

    def __init__(self, api_key: str):
        self.youtube = build('youtube', 'v3', developerKey=api_key)

    async def extract_metadata(self, url: str) -> Dict[str, Any]:
        """
        YouTube ë¹„ë””ì˜¤ ë©”íƒ€ë°ì´í„° ì¶”ì¶œ

        Returns:
            {
                'platform': 'youtube',
                'content_type': 'video',
                'video_id': str,
                'title': str,
                'description': str,
                'tags': List[str],
                'channel_title': str,
                'published_at': datetime,
                'duration': str,
                'view_count': int,
                'media_urls': None  # YouTubeëŠ” ë‹¤ìš´ë¡œë“œ ë¶ˆí•„ìš”
            }
        """
        video_id = self._extract_video_id(url)
        response = self.youtube.videos().list(
            part='snippet,contentDetails,statistics',
            id=video_id
        ).execute()

        return self._parse_response(response)

    def _extract_video_id(self, url: str) -> str:
        """YouTube URLì—ì„œ ë¹„ë””ì˜¤ ID ì¶”ì¶œ"""
        # youtube.com/watch?v=VIDEO_ID
        # youtu.be/VIDEO_ID
        pass

    @staticmethod
    def is_shorts(url: str) -> bool:
        """YouTube Shorts ì—¬ë¶€ íŒë‹¨"""
        return "/shorts/" in url
```

#### 2.3 Instagram/TikTok ì¶”ì¶œê¸°

**íŒŒì¼**: `app/services/platform/instagram.py` & `tiktok.py`

```python
import yt_dlp

class InstagramExtractor(PlatformExtractor):
    """yt-dlp ê¸°ë°˜ Instagram ë©”íƒ€ë°ì´í„° ì¶”ì¶œ ë° ë‹¤ìš´ë¡œë“œ"""

    async def extract_metadata(self, url: str) -> Dict[str, Any]:
        """
        Instagram ê²Œì‹œê¸€ ë©”íƒ€ë°ì´í„° ì¶”ì¶œ ë° ë¯¸ë””ì–´ ë‹¤ìš´ë¡œë“œ

        Returns:
            {
                'platform': 'instagram',
                'content_type': 'video|image|carousel',
                'caption': str,
                'hashtags': List[str],
                'location': Optional[str],
                'media_urls': List[str],  # ë‹¤ìš´ë¡œë“œëœ íŒŒì¼ ê²½ë¡œ
                'timestamp': datetime
            }
        """
        ydl_opts = {
            'format': 'best',
            'outtmpl': 'temp/%(id)s.%(ext)s',
            'quiet': True
        }

        with yt_dlp.YoutubeDL(ydl_opts) as ydl:
            info = ydl.extract_info(url, download=True)
            return self._parse_info(info)

    def _parse_info(self, info: Dict) -> Dict[str, Any]:
        """yt-dlp ê²°ê³¼ íŒŒì‹±"""
        pass

class TikTokExtractor(PlatformExtractor):
    """yt-dlp ê¸°ë°˜ TikTok ë©”íƒ€ë°ì´í„° ì¶”ì¶œ ë° ë‹¤ìš´ë¡œë“œ"""
    # Instagramê³¼ ìœ ì‚¬í•œ êµ¬ì¡°
    pass
```

---

### Phase 3: Gemini í†µí•© ë¶„ì„ íŒŒì´í”„ë¼ì¸ (3-4ì¼)

#### 3.1 Gemini ë¹„ë””ì˜¤ ë¶„ì„

**íŒŒì¼**: `app/services/analysis/gemini_video.py`

```python
from google import genai
from google.genai import types

class GeminiVideoAnalyzer:
    """Gemini 2.5 ê¸°ë°˜ ë¹„ë””ì˜¤ í†µí•© ë¶„ì„"""

    def __init__(self, api_key: str):
        self.client = genai.Client(api_key=api_key)

    async def analyze_video_url(self, url: str, prompt: str) -> Dict[str, Any]:
        """
        YouTube URL ì§ì ‘ ë¶„ì„ (ë‹¤ìš´ë¡œë“œ ë¶ˆí•„ìš”)

        Args:
            url: YouTube ê³µê°œ URL
            prompt: ë¶„ì„ í”„ë¡¬í”„íŠ¸

        Returns:
            {
                'transcript': str,  # ìŒì„± ì „ì‚¬
                'extracted_text': List[str],  # í”„ë ˆì„ ë‚´ í…ìŠ¤íŠ¸
                'visual_elements': List[str],  # ì¥ë©´ ì„¤ëª…
                'analysis': Dict  # AI ë¶„ì„ ê²°ê³¼
            }
        """
        response = self.client.models.generate_content(
            model='gemini-2.5-flash',
            contents=[
                types.Part.from_uri(
                    file_uri=url,
                    mime_type="video/mp4"
                ),
                types.Part.from_text(prompt)
            ]
        )
        return self._parse_response(response)

    async def analyze_video_file(self, file_path: str, prompt: str) -> Dict[str, Any]:
        """
        ë¡œì»¬ ë¹„ë””ì˜¤ íŒŒì¼ ë¶„ì„ (Instagram/TikTok)

        Args:
            file_path: ë‹¤ìš´ë¡œë“œëœ ë¹„ë””ì˜¤ íŒŒì¼ ê²½ë¡œ
            prompt: ë¶„ì„ í”„ë¡¬í”„íŠ¸
        """
        # File APIë¡œ ì—…ë¡œë“œ í›„ ë¶„ì„
        with open(file_path, 'rb') as f:
            video_bytes = f.read()

        response = self.client.models.generate_content(
            model='gemini-2.5-flash',
            contents=[
                types.Part(
                    inline_data=types.Blob(
                        data=video_bytes,
                        mime_type='video/mp4'
                    )
                ),
                types.Part(text=prompt)
            ]
        )
        return self._parse_response(response)

#### 3.2 Gemini ì´ë¯¸ì§€ ë¶„ì„

**íŒŒì¼**: `app/services/analysis/gemini_image.py`

```python
class GeminiImageAnalyzer:
    """Gemini Vision API ê¸°ë°˜ ì´ë¯¸ì§€ ë¶„ì„"""

    async def analyze_image(self, image_path: str, prompt: str) -> Dict[str, Any]:
        """
        ì´ë¯¸ì§€ í†µí•© ë¶„ì„ (OCR + ê°ì²´ ì¸ì‹ + ì¥ë©´ ì´í•´)

        Returns:
            {
                'extracted_text': str,  # OCR í…ìŠ¤íŠ¸
                'objects': List[str],  # ê°ì§€ëœ ê°ì²´
                'scene_description': str,  # ì¥ë©´ ì„¤ëª…
                'analysis': Dict  # AI ë¶„ì„ ê²°ê³¼
            }
        """
        pass
```

---

### Phase 4: AI ë¶„ì„ íŒŒì´í”„ë¼ì¸ (3-4ì¼)

#### 4.1 ì½˜í…ì¸  ë¶„ë¥˜ê¸°

**íŒŒì¼**: `app/services/instagram/content_classifier.py`

```python
import google.generativeai as genai

class ContentClassifier:
    """Google Gemini ê¸°ë°˜ ì½˜í…ì¸  ë¶„ì„"""

    def __init__(self, gemini_api_key: str):
        genai.configure(api_key=gemini_api_key)
        self.model = genai.GenerativeModel('gemini-pro')

    async def classify(self, content: ContentData) -> Classification:
        """
        ì½˜í…ì¸  ì¹´í…Œê³ ë¦¬ ë¶„ë¥˜

        Args:
            content: {
                'caption': str,
                'ocr_texts': List[str],
                'transcript': Optional[str],
                'hashtags': List[str],
                'location': Optional[Dict]
            }

        Returns:
            {
                'primary_category': str,  # ìŒì‹ì /ì¹´í˜/ì—¬í–‰ì§€/ì œí’ˆ/ê±´ê°•/ìƒí™œ
                'sub_categories': List[str],  # í•œì‹/ì–‘ì‹/ë””ì €íŠ¸ ë“±
                'tags': List[str],  # #ë¶„ìœ„ê¸°ì¢‹ì€ #ë°ì´íŠ¸ì½”ìŠ¤
                'confidence': float
            }
        """

        prompt = self._build_classification_prompt(content)
        response = await self.model.generate_content_async(prompt)
        return self._parse_classification(response.text)
```

#### 4.2 ì •ë³´ ì¶”ì¶œê¸°

```python
class InformationExtractor:
    """í•µì‹¬ ì •ë³´ ì¶”ì¶œ"""

    async def extract(self, content: ContentData) -> ExtractedInfo:
        """
        Returns:
            {
                'place_info': {
                    'name': str,
                    'location': str,
                    'phone': Optional[str],
                    'hours': Optional[str],
                    'address': Optional[str]
                },
                'menu_items': List[{
                    'name': str,
                    'price': Optional[str],
                    'description': Optional[str]
                }],
                'features': List[str],  # ì£¼ì°¨ê°€ëŠ¥/ë°˜ë ¤ë™ë¬¼ë™ë°˜/í‚¤ì¦ˆì¡´
                'price_range': Optional[str],  # â‚©â‚© / â‚©â‚©â‚©
                'recommended_for': List[str]  # ë°ì´íŠ¸/ê°€ì¡±ëª¨ì„/í˜¼ë°¥
            }
        """
```

#### 4.3 ê°ì„± ë¶„ì„ & ìš”ì•½

```python
class ContentAnalyzer:
    """ê°ì„± ë¶„ì„ ë° ìš”ì•½"""

    async def analyze_sentiment(self, text: str) -> Sentiment:
        """
        Returns:
            {
                'sentiment': 'positive' | 'negative' | 'neutral',
                'score': float,  # -1.0 ~ 1.0
                'aspects': {  # ì¸¡ë©´ë³„ ê°ì„±
                    'food_quality': float,
                    'service': float,
                    'atmosphere': float,
                    'value': float
                }
            }
        """

    async def generate_summary(self, content: ContentData) -> str:
        """2-3ë¬¸ì¥ í•µì‹¬ ìš”ì•½"""

    async def extract_keywords(self, content: ContentData) -> List[str]:
        """ì£¼ìš” í‚¤ì›Œë“œ ì¶”ì¶œ"""
```

---

### Phase 5: í†µí•© ë¶„ì„ ì„œë¹„ìŠ¤ (1-2ì¼)

#### 5.1 í†µí•© ë¶„ì„ íŒŒì´í”„ë¼ì¸

**íŒŒì¼**: `app/services/instagram/analysis_service.py`

```python
from app.services.instagram import (
    ApifyInstagramClient,
    MediaDownloader,
    VideoFrameExtractor,
    AudioTranscriber,
    OCRService,
    ContentClassifier,
    InformationExtractor,
    ContentAnalyzer
)

class InstagramAnalysisService:
    """Instagram ê²Œì‹œê¸€ í†µí•© ë¶„ì„ ì„œë¹„ìŠ¤"""

    def __init__(self):
        self.apify_client = ApifyInstagramClient(settings.APIFY_API_KEY)
        self.downloader = MediaDownloader()
        self.video_analyzer = VideoFrameExtractor()
        self.transcriber = AudioTranscriber(settings.DEEPGRAM_API_KEY)
        self.ocr_service = OCRService(settings.GOOGLE_APPLICATION_CREDENTIALS)
        self.classifier = ContentClassifier(settings.GEMINI_API_KEY)
        self.extractor = InformationExtractor(settings.GEMINI_API_KEY)
        self.analyzer = ContentAnalyzer(settings.GEMINI_API_KEY)

    async def analyze_post(self, url: str) -> AnalysisResult:
        """
        Instagram ê²Œì‹œê¸€ ì¢…í•© ë¶„ì„ (ë™ê¸°)

        Returns:
            AnalysisResult: ì™„ì„±ëœ ë¶„ì„ ê²°ê³¼
        """
        try:
            # 1. Apifyë¡œ ë©”íƒ€ë°ì´í„° ì¶”ì¶œ
            post_data = await self.apify_client.extract_post(url)

            # 2. ë¯¸ë””ì–´ ë‹¤ìš´ë¡œë“œ
            media_files = await self.downloader.download_multiple(post_data['media_urls'])

            # 3. ë¯¸ë””ì–´ íƒ€ì…ë³„ ì²˜ë¦¬
            texts = []
            transcript = None

            for media_file in media_files:
                if post_data['is_video']:
                    # ë¹„ë””ì˜¤ ë¶„ì„
                    frames = self.video_analyzer.extract_keyframes(media_file)

                    # ìŒì„± ì „ì‚¬
                    transcript = await self.transcriber.transcribe(media_file)
                    texts.append(transcript['text'])

                    # í”„ë ˆì„ OCR
                    for frame in frames:
                        ocr_result = await self.ocr_service.extract_text(frame)
                        if ocr_result['text']:
                            texts.append(ocr_result['text'])
                else:
                    # ì´ë¯¸ì§€ OCR
                    image = cv2.imread(str(media_file))
                    ocr_result = await self.ocr_service.extract_text(image)
                    if ocr_result['text']:
                        texts.append(ocr_result['text'])

            # 4. AI ë¶„ì„
            content_data = {
                'caption': post_data['caption'],
                'ocr_texts': texts,
                'transcript': transcript['text'] if transcript else None,
                'hashtags': post_data['hashtags'],
                'location': post_data.get('location')
            }

            classification = await self.classifier.classify(content_data)
            extracted_info = await self.extractor.extract(content_data)
            sentiment = await self.analyzer.analyze_sentiment(post_data['caption'])
            summary = await self.analyzer.generate_summary(content_data)

            # 5. ê²°ê³¼ í†µí•©
            analysis_result = {
                'url': url,
                'post_data': post_data,
                'classification': classification,
                'extracted_info': extracted_info,
                'sentiment': sentiment,
                'summary': summary,
                'analyzed_at': datetime.utcnow()
            }

            # 6. DB ì €ì¥
            await db.save_analysis(analysis_result)

            # 7. ì„ì‹œ íŒŒì¼ ì •ë¦¬
            self.downloader.cleanup_temp_files(media_files)

            return analysis_result

        except Exception as exc:
            # ì—ëŸ¬ ë¡œê¹… ë° ì¬ë°œìƒ
            logger.error(f"Analysis failed for {url}: {str(exc)}")
            raise
```

---

### Phase 6: API ì—”ë“œí¬ì¸íŠ¸ (2ì¼)

#### 6.1 Pydantic ìŠ¤í‚¤ë§ˆ

**íŒŒì¼**: `app/schemas/instagram.py`

```python
from pydantic import BaseModel, HttpUrl, Field
from typing import Optional, List, Dict, Any
from datetime import datetime

class InstagramAnalysisRequest(BaseModel):
    """ë¶„ì„ ìš”ì²­"""
    url: HttpUrl = Field(..., description="Instagram ê²Œì‹œê¸€ URL")
    options: Optional[Dict[str, Any]] = Field(
        default_factory=lambda: {
            'include_video_transcription': True,
            'include_ocr': True
        }
    )

class Classification(BaseModel):
    """ì¹´í…Œê³ ë¦¬ ë¶„ë¥˜ ê²°ê³¼"""
    primary_category: str
    sub_categories: List[str]
    tags: List[str]
    confidence: float

class PlaceInfo(BaseModel):
    """ì¥ì†Œ ì •ë³´"""
    name: Optional[str]
    location: Optional[str]
    phone: Optional[str]
    hours: Optional[str]
    address: Optional[str]

class MenuItem(BaseModel):
    """ë©”ë‰´ í•­ëª©"""
    name: str
    price: Optional[str]
    description: Optional[str]

class ExtractedInfo(BaseModel):
    """ì¶”ì¶œëœ ì •ë³´"""
    place_info: Optional[PlaceInfo]
    menu_items: List[MenuItem]
    features: List[str]
    price_range: Optional[str]
    recommended_for: List[str]

class Sentiment(BaseModel):
    """ê°ì„± ë¶„ì„ ê²°ê³¼"""
    sentiment: str  # positive/negative/neutral
    score: float
    aspects: Dict[str, float]

class InstagramAnalysisResponse(BaseModel):
    """ë¶„ì„ ì‘ë‹µ"""
    url: str
    post_data: Dict[str, Any]
    classification: Classification
    extracted_info: ExtractedInfo
    sentiment: Sentiment
    summary: str
    analyzed_at: datetime
```

#### 6.2 API ì—”ë“œí¬ì¸íŠ¸

**íŒŒì¼**: `app/api/v1/endpoints/instagram.py`

```python
from fastapi import APIRouter, HTTPException, Depends
from app.schemas.instagram import (
    InstagramAnalysisRequest,
    InstagramAnalysisResponse
)
from app.services.instagram.analysis_service import InstagramAnalysisService

router = APIRouter()
analysis_service = InstagramAnalysisService()

@router.post("/analyze", response_model=InstagramAnalysisResponse)
async def analyze_instagram_post(
    request: InstagramAnalysisRequest
):
    """
    Instagram ê²Œì‹œê¸€ ë¶„ì„ (ë™ê¸° ì²˜ë¦¬)

    - ì´ë¯¸ì§€/ë¹„ë””ì˜¤ ë‹¤ìš´ë¡œë“œ
    - ìŒì„± ì „ì‚¬ ë° OCR
    - AI ê¸°ë°˜ ë¶„ë¥˜ ë° ì •ë³´ ì¶”ì¶œ

    ì²˜ë¦¬ ì‹œê°„: í‰ê·  30-60ì´ˆ
    """
    try:
        result = await analysis_service.analyze_post(str(request.url))
        return result

    except ValueError as e:
        raise HTTPException(status_code=400, detail=str(e))
    except Exception as e:
        raise HTTPException(status_code=500, detail=str(e))

@router.get("/analysis/{url:path}")
async def get_cached_analysis(url: str):
    """
    ê¸°ì¡´ ë¶„ì„ ê²°ê³¼ ì¡°íšŒ

    ì´ë¯¸ ë¶„ì„ëœ ê²Œì‹œê¸€ì˜ ê²°ê³¼ë¥¼ DBì—ì„œ ì¡°íšŒ
    """
    try:
        result = await db.get_analysis_by_url(url)
        if not result:
            raise HTTPException(status_code=404, detail="Analysis not found")
        return result

    except HTTPException:
        raise
    except Exception as e:
        raise HTTPException(status_code=500, detail=str(e))
```

---

### Phase 7: í…ŒìŠ¤íŠ¸ & ìµœì í™” (2-3ì¼)

#### 7.1 ë‹¨ìœ„ í…ŒìŠ¤íŠ¸

**íŒŒì¼**: `tests/unit/test_instagram_services.py`

```python
import pytest
from app.services.instagram import (
    ApifyInstagramClient,
    VideoFrameExtractor,
    AudioTranscriber,
    OCRService,
    ContentClassifier
)

class TestApifyClient:
    """Apify í´ë¼ì´ì–¸íŠ¸ í…ŒìŠ¤íŠ¸"""

    @pytest.mark.asyncio
    async def test_extract_post_success(self):
        """ì •ìƒ ê²Œì‹œê¸€ ì½˜í…ì¸  ì¶”ì¶œ"""

    @pytest.mark.asyncio
    async def test_extract_post_deleted(self):
        """ì‚­ì œëœ ê²Œì‹œê¸€ ì²˜ë¦¬"""

    @pytest.mark.asyncio
    async def test_extract_post_inaccessible(self):
        """ì ‘ê·¼ ë¶ˆê°€ ê²Œì‹œê¸€ ì²˜ë¦¬"""

class TestVideoAnalysis:
    """ë¹„ë””ì˜¤ ë¶„ì„ í…ŒìŠ¤íŠ¸"""

    def test_extract_frames(self):
        """í”„ë ˆì„ ì¶”ì¶œ ì •í™•ë„"""

    @pytest.mark.asyncio
    async def test_transcribe_audio(self):
        """ìŒì„± ì „ì‚¬ ì •í™•ë„"""

class TestOCR:
    """OCR í…ŒìŠ¤íŠ¸"""

    @pytest.mark.asyncio
    async def test_ocr_menu(self):
        """ë©”ë‰´íŒ OCR ì •í™•ë„"""

    @pytest.mark.asyncio
    async def test_ocr_fallback(self):
        """Google Vision í´ë°±"""

class TestAIClassification:
    """AI ë¶„ë¥˜ í…ŒìŠ¤íŠ¸"""

    @pytest.mark.asyncio
    async def test_classify_restaurant(self):
        """ìŒì‹ì  ë¶„ë¥˜ ì •í™•ë„"""

    @pytest.mark.asyncio
    async def test_extract_menu_items(self):
        """ë©”ë‰´ ì¶”ì¶œ ì •í™•ë„"""
```

#### 7.2 í†µí•© í…ŒìŠ¤íŠ¸

**íŒŒì¼**: `tests/integration/test_instagram_pipeline.py`

```python
class TestInstagramPipeline:
    """ì „ì²´ íŒŒì´í”„ë¼ì¸ í†µí•© í…ŒìŠ¤íŠ¸"""

    @pytest.mark.asyncio
    async def test_full_pipeline_image_post(self):
        """ì´ë¯¸ì§€ ê²Œì‹œê¸€ ì „ì²´ íŒŒì´í”„ë¼ì¸"""

    @pytest.mark.asyncio
    async def test_full_pipeline_video_post(self):
        """ë¹„ë””ì˜¤ ê²Œì‹œê¸€ ì „ì²´ íŒŒì´í”„ë¼ì¸"""

    @pytest.mark.asyncio
    async def test_batch_processing(self):
        """ë°°ì¹˜ ì²˜ë¦¬ ì„±ëŠ¥ í…ŒìŠ¤íŠ¸"""

    @pytest.mark.asyncio
    async def test_duplicate_prevention(self):
        """ì¤‘ë³µ ë¶„ì„ ë°©ì§€ í…ŒìŠ¤íŠ¸"""
```

#### 7.3 ì„±ëŠ¥ ë²¤ì¹˜ë§ˆí¬

```python
# ìƒ˜í”Œ 10ê°œ ê²Œì‹œê¸€ë¡œ ì¸¡ì •
# - í‰ê·  ì²˜ë¦¬ ì‹œê°„
# - API í˜¸ì¶œ ë¹„ìš©
# - ì¤‘ë³µ ë¶„ì„ ë°©ì§€ìœ¨
# - ì—ëŸ¬ìœ¨
```

---

## ğŸ’° ë¹„ìš© ë¶„ì„

### MVP ë¹„ìš© (ì›” 1,000ê°œ ê²Œì‹œë¬¼)

**ê°€ì •**: YouTube 40%, Instagram 40%, TikTok 20%

| í•­ëª© | ìˆ˜ëŸ‰/ì‚¬ìš©ëŸ‰ | ë‹¨ê°€ | ì›” ë¹„ìš© |
|-----|-----------|------|---------|
| **YouTube Data API v3** | 1,000 requests | ë¬´ë£Œ (10,000 ì¿¼í„°/ì¼) | $0 |
| **yt-dlp (Instagram/TikTok)** | 600 downloads | ë¬´ë£Œ (ì˜¤í”ˆì†ŒìŠ¤) | $0 |
| **Gemini 2.5 ë¹„ë””ì˜¤ ë¶„ì„** | | | |
| - YouTube (URL ì§ì ‘) | 400 videos Ã— 1ë¶„ | ë¬´ë£Œ (ì¼ì¼ 8ì‹œê°„) | $0 |
| - Instagram/TikTok | 600 videos Ã— 1ë¶„ Ã— 300 tokens/sec | $0.075/1M tokens | ~$2.70 |
| **Gemini ì´ë¯¸ì§€ ë¶„ì„** | 200 images | $0.00025/image | $0.05 |
| **Gemini í…ìŠ¤íŠ¸ ë¶„ì„** | 1,000 requests Ã— 2K tokens | $0.075/1M tokens | $0.15 |
| **FastAPI ì„œë²„** | ê¸°ì¡´ ì¸í”„ë¼ | | $0 |
| **ìŠ¤í† ë¦¬ì§€** | ~5GB (ì„ì‹œ) | S3 $0.023/GB | $0.12 |
| **ë„¤íŠ¸ì›Œí¬** | ~50GB | ë¬´ë£Œ í‹°ì–´ | $0 |
| **ì´ê³„** | | | **~$3.02/ì›”** |

### ë¹„ìš© ì ˆê° í•µì‹¬
- âœ… **Deepgram ì œê±°** ($4.80 â†’ $0): Gemini ë‚´ì¥ ìŒì„± ì „ì‚¬
- âœ… **Google Vision ì œê±°** ($0.38 â†’ $0): Gemini ë‚´ì¥ OCR
- âœ… **Apify ì œê±°** ($0 â†’ $0): yt-dlpë¡œ ëŒ€ì²´
- âœ… **YouTube ìµœì í™”**: URL ì§ì ‘ ì „ë‹¬ë¡œ ë‹¤ìš´ë¡œë“œ ë¹„ìš© ì œê±°

### í™•ì¥ ë¹„ìš© (ì›” 10,000ê°œ ê²Œì‹œë¬¼)

**ê°€ì •**: YouTube 40%, Instagram 40%, TikTok 20%

| í•­ëª© | ìˆ˜ëŸ‰/ì‚¬ìš©ëŸ‰ | ë‹¨ê°€ | ì›” ë¹„ìš© |
|-----|-----------|------|---------|
| **YouTube Data API v3** | 10,000 requests | ë¬´ë£Œ (ì¿¼í„° ë‚´) | $0 |
| **yt-dlp** | 6,000 downloads | ë¬´ë£Œ | $0 |
| **Gemini ë¹„ë””ì˜¤ ë¶„ì„** | | | |
| - YouTube | 4,000 videos Ã— 1ë¶„ | ë¬´ë£Œ (ì œí•œ ì´ˆê³¼ ì‹œ ìœ ë£Œ) | ~$36* |
| - Instagram/TikTok | 6,000 videos Ã— 1ë¶„ | $0.075/1M tokens | ~$27 |
| **Gemini ì´ë¯¸ì§€ ë¶„ì„** | 2,000 images | $0.00025/image | $0.50 |
| **Gemini í…ìŠ¤íŠ¸ ë¶„ì„** | 10,000 requests | $0.075/1M tokens | $1.50 |
| **ì¸í”„ë¼ í™•ì¥** | Autoscaling | | $30 |
| **ìŠ¤í† ë¦¬ì§€** | ~50GB | S3 | $1.15 |
| **CDN** | ~500GB | CloudFront | $10 |
| **ì´ê³„** | | | **~$106/ì›”** |

*YouTube ì¼ì¼ 8ì‹œê°„ ì œí•œ ì´ˆê³¼ ì‹œ ìœ ë£Œ ì „í™˜ ê°€ì •

---

## ğŸ“… êµ¬í˜„ ì¼ì •

### Week 1: ê¸°ë°˜ ì¸í”„ë¼ & Instagram ì¶”ì¶œ

**Day 1-2**: í”„ë¡œì íŠ¸ êµ¬ì¡° ë° í™˜ê²½ ì„¤ì •
- [ ] ë””ë ‰í† ë¦¬ êµ¬ì¡° ìƒì„±
- [ ] Dependencies ì„¤ì¹˜
- [ ] Docker Compose ì—…ë°ì´íŠ¸
- [ ] í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
- [ ] Apify ê³„ì • ìƒì„± ë° API í‚¤ íšë“

**Day 3-4**: Apify í´ë¼ì´ì–¸íŠ¸ êµ¬í˜„
- [ ] ApifyInstagramClient êµ¬í˜„
- [ ] ì—ëŸ¬ ì²˜ë¦¬ ë° ì¬ì‹œë„ ë¡œì§
- [ ] MediaDownloader êµ¬í˜„
- [ ] ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ì‘ì„±
- [ ] 10ê°œ ìƒ˜í”Œë¡œ í…ŒìŠ¤íŠ¸

**ì‚°ì¶œë¬¼**:
- âœ… Apify API í†µí•© ì™„ë£Œ
- âœ… ê¸°ë³¸ ë°ì´í„° ì¶”ì¶œ ê°€ëŠ¥
- âœ… ì´ë¯¸ì§€/ë¹„ë””ì˜¤ ë‹¤ìš´ë¡œë“œ ê¸°ëŠ¥

---

### Week 2: ë¹„ë””ì˜¤ ë¶„ì„ íŒŒì´í”„ë¼ì¸

**Day 5-6**: í”„ë ˆì„ ì¶”ì¶œ & ìŒì„± ì „ì‚¬
- [ ] FFmpeg ê¸°ë°˜ í”„ë ˆì„ ì¶”ì¶œ êµ¬í˜„
- [ ] Deepgram ê³„ì • ìƒì„± ë° API í†µí•©
- [ ] AudioTranscriber êµ¬í˜„
- [ ] ë¹„ë””ì˜¤ ë¶„ì„ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸
- [ ] 5ê°œ ìƒ˜í”Œ ë¹„ë””ì˜¤ë¡œ ì •í™•ë„ ê²€ì¦

**Day 7-8**: OCR íŒŒì´í”„ë¼ì¸
- [ ] Tesseract OCR êµ¬í˜„
- [ ] Google Cloud Vision ê³„ì • ì„¤ì •
- [ ] OCRService í•˜ì´ë¸Œë¦¬ë“œ êµ¬í˜„
- [ ] ì´ë¯¸ì§€ ì „ì²˜ë¦¬ ìµœì í™”
- [ ] OCR ì •í™•ë„ í…ŒìŠ¤íŠ¸

**ì‚°ì¶œë¬¼**:
- âœ… ë¹„ë””ì˜¤ ìŒì„± ì „ì‚¬ ê¸°ëŠ¥
- âœ… í”„ë ˆì„ OCR ê¸°ëŠ¥
- âœ… ì´ë¯¸ì§€ OCR ê¸°ëŠ¥

---

### Week 3: AI ë¶„ì„ & í†µí•© ì„œë¹„ìŠ¤

**Day 9-10**: AI ë¶„ë¥˜ ë° ì •ë³´ ì¶”ì¶œ
- [ ] ContentClassifier êµ¬í˜„
- [ ] InformationExtractor êµ¬í˜„
- [ ] ContentAnalyzer êµ¬í˜„
- [ ] Gemini í”„ë¡¬í”„íŠ¸ ìµœì í™”
- [ ] ë¶„ë¥˜ ì •í™•ë„ í…ŒìŠ¤íŠ¸

**Day 11-12**: í†µí•© ë¶„ì„ ì„œë¹„ìŠ¤
- [ ] InstagramAnalysisService êµ¬í˜„
- [ ] ì „ì²´ íŒŒì´í”„ë¼ì¸ í†µí•©
- [ ] ì—ëŸ¬ ì²˜ë¦¬ ë° ì¬ì‹œë„ ë¡œì§
- [ ] íƒ€ì„ì•„ì›ƒ ê´€ë¦¬
- [ ] í†µí•© í…ŒìŠ¤íŠ¸

**ì‚°ì¶œë¬¼**:
- âœ… AI ê¸°ë°˜ ìë™ ë¶„ë¥˜
- âœ… í•µì‹¬ ì •ë³´ ì¶”ì¶œ
- âœ… í†µí•© ë¶„ì„ íŒŒì´í”„ë¼ì¸

---

### Week 4: API & í…ŒìŠ¤íŠ¸ & ë°°í¬

**Day 13-14**: API ì—”ë“œí¬ì¸íŠ¸
- [ ] Pydantic ìŠ¤í‚¤ë§ˆ ì •ì˜
- [ ] API ì—”ë“œí¬ì¸íŠ¸ êµ¬í˜„ (ë™ê¸° ì²˜ë¦¬)
- [ ] API ë¬¸ì„œí™” (Swagger)
- [ ] API í†µí•© í…ŒìŠ¤íŠ¸

**Day 15-16**: í…ŒìŠ¤íŠ¸ & ìµœì í™”
- [ ] ì „ì²´ íŒŒì´í”„ë¼ì¸ í…ŒìŠ¤íŠ¸ (30ê°œ ìƒ˜í”Œ)
- [ ] ë¹„ìš© ì¸¡ì • ë° ìµœì í™”
- [ ] ì„±ëŠ¥ ë²¤ì¹˜ë§ˆí¬
- [ ] ì—ëŸ¬ í•¸ë“¤ë§ ê°•í™”
- [ ] ë¡œê¹… ì„¤ì •

**Day 17**: ë°°í¬ & ë¬¸ì„œí™”
- [ ] Docker í™˜ê²½ ë°°í¬
- [ ] API ì‚¬ìš© ê°€ì´ë“œ ì‘ì„±
- [ ] README ì—…ë°ì´íŠ¸
- [ ] ìµœì¢… ê²€ì¦

**ì‚°ì¶œë¬¼**:
- âœ… ë‹¨ìˆœí•œ Instagram ë¶„ì„ API (í”„ë¡œí† íƒ€ì…)
- âœ… ê¸°ë³¸ í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€
- âœ… Docker ë°°í¬ ì™„ë£Œ

---

## âš ï¸ ì£¼ìš” ê³ ë ¤ì‚¬í•­

### ë²•ì  ì¤€ìˆ˜

#### 1. í”Œë«í¼ë³„ ToS ì¤€ìˆ˜

**YouTube**
- âœ… **ê³µì‹ API ì‚¬ìš©**: YouTube Data API v3ë¡œ ToS ì¤€ìˆ˜
- âœ… **ê³µê°œ ì˜ìƒë§Œ**: ë¹„ê³µê°œ/ì œí•œëœ ì½˜í…ì¸  ì ‘ê·¼ ê¸ˆì§€
- âœ… **API ì¿¼í„° ì¤€ìˆ˜**: ì¼ì¼ ì¿¼í„° ì œí•œ ì¤€ìˆ˜
- âœ… **ë¹„ë””ì˜¤ ë‹¤ìš´ë¡œë“œ ê¸ˆì§€**: Gemini URL ì§ì ‘ ì „ë‹¬ë¡œ ë‹¤ìš´ë¡œë“œ íšŒí”¼

**Instagram/TikTok**
- âš ï¸ **yt-dlp ì‚¬ìš©**: ê³µê°œ ê²Œì‹œë¬¼ë§Œ, ë²•ì  ë¦¬ìŠ¤í¬ ì¸ì§€
- âœ… **Rate limiting**: í•©ë¦¬ì ì¸ ìš”ì²­ ë¹ˆë„ ìœ ì§€
- âŒ **ì¸ì¦ ìš°íšŒ ê¸ˆì§€**: ë¡œê·¸ì¸ ì—†ì´ ê³µê°œ ë°ì´í„°ë§Œ
- âš ï¸ **í”Œë«í¼ ì •ì±… ë³€ê²½ ëª¨ë‹ˆí„°ë§**: yt-dlp ì°¨ë‹¨ ê°€ëŠ¥ì„±

#### 2. ê°œì¸ì •ë³´ ë³´í˜¸
- âœ… **GDPR/CCPA ì¤€ìˆ˜**: ì‚¬ìš©ì ë°ì´í„° ìµœì†Œ ìˆ˜ì§‘
- âœ… **ìµëª…í™”**: ê°œì¸ ì‹ë³„ ì •ë³´ ì œê±°
- âœ… **ë°ì´í„° ë³´ìœ  ê¸°ê°„**: 24ì‹œê°„ ìºì‹œ, ë¶„ì„ ê²°ê³¼ë§Œ ì¥ê¸° ë³´ê´€
- âœ… **ì‚­ì œ ìš”ì²­ ì²˜ë¦¬**: ì‚¬ìš©ì ìš”ì²­ ì‹œ ë°ì´í„° ì‚­ì œ

#### 3. ì €ì‘ê¶Œ
- âœ… **í˜ì–´ ìœ ì¦ˆ**: ë¶„ì„ ëª©ì ì˜ ì œí•œì  ì‚¬ìš©
- âœ… **ì¶œì²˜ í‘œì‹œ**: Instagram ì›ë³¸ ë§í¬ ìœ ì§€
- âŒ **ì¬ë°°í¬ ê¸ˆì§€**: ì›ë³¸ ì´ë¯¸ì§€/ë¹„ë””ì˜¤ ì¬ë°°í¬ ê¸ˆì§€
- âœ… **ìš”ì•½/ë¶„ì„ ê²°ê³¼ë§Œ ì œê³µ**: ì›ë³¸ ì½˜í…ì¸  ì €ì¥ ìµœì†Œí™”

### ê¸°ìˆ ì  ë¦¬ìŠ¤í¬

#### 1. í”Œë«í¼ êµ¬ì¡° ë³€ê²½
- **ìœ„í—˜ë„**: ì¤‘ê°„ (Instagram/TikTok), ë‚®ìŒ (YouTube)
- **ì™„í™”ì±…**:
  - YouTube: ê³µì‹ API ì‚¬ìš©ìœ¼ë¡œ ì•ˆì •ì 
  - Instagram/TikTok: yt-dlp ìë™ ì—…ë°ì´íŠ¸ ëª¨ë‹ˆí„°ë§
- **ë°±ì—…ì±…**: í”Œë«í¼ë³„ ëŒ€ì²´ ì¶”ì¶œ ë°©ë²• ì¤€ë¹„

#### 2. Gemini ë¹„ìš© ê´€ë¦¬
- **ìœ„í—˜ë„**: ë‚®ìŒ
- **ì™„í™”ì±…**:
  - YouTube URL ì§ì ‘ ì‚¬ìš©ìœ¼ë¡œ ë¹„ìš© ìµœì†Œí™”
  - Instagram/TikTokë§Œ ë‹¤ìš´ë¡œë“œí•˜ì—¬ ë¹„ìš© ì œí•œ
  - DB ê¸°ë°˜ ì¤‘ë³µ ë¶„ì„ ë°©ì§€
  - ì¼ì¼ YouTube 8ì‹œê°„ ì œí•œ ëª¨ë‹ˆí„°ë§
- **ëª¨ë‹ˆí„°ë§**: ì¼ì¼ í† í° ì‚¬ìš©ëŸ‰ ì¶”ì , ì˜ˆì‚° ì•Œë¦¼

#### 3. ë¹„ë””ì˜¤ ì²˜ë¦¬ ì‹œê°„
- **ìœ„í—˜ë„**: ë‚®ìŒ
- **ì™„í™”ì±…**:
  - Geminiê°€ ìë™ìœ¼ë¡œ ìµœì í™”ëœ ì²˜ë¦¬
  - YouTubeëŠ” ë‹¤ìš´ë¡œë“œ ë¶ˆí•„ìš”ë¡œ ì‹œê°„ ë‹¨ì¶•
  - ìµœëŒ€ 10ë¶„ ë¹„ë””ì˜¤ ì œí•œ (YouTube Shorts ëŒ€ì‘)
- **ëª©í‘œ**: YouTube í‰ê·  20ì´ˆ, Instagram/TikTok í‰ê·  40ì´ˆ

#### 4. yt-dlp ì•ˆì •ì„±
- **ìœ„í—˜ë„**: ì¤‘ê°„
- **ì™„í™”ì±…**:
  - yt-dlp ë²„ì „ ê³ ì • ë° í…ŒìŠ¤íŠ¸
  - í”Œë«í¼ ì°¨ë‹¨ ì‹œ ìš°ì•„í•œ ì‹¤íŒ¨ ì²˜ë¦¬
  - ì—ëŸ¬ìœ¨ ëª¨ë‹ˆí„°ë§ ë° ì•Œë¦¼
- **ëª©í‘œ**: ì„±ê³µë¥  90%+

### í™•ì¥ ì „ëµ

#### Phase 2 (í”„ë¡œí† íƒ€ì… ê²€ì¦ í›„ - í–¥í›„ 3ê°œì›”)
- [ ] **ë¹„ë™ê¸° ì²˜ë¦¬ ì¶”ê°€**: Celery + RabbitMQ/Redis ë„ì…
- [ ] **ë°°ì¹˜ ì²˜ë¦¬**: ì—¬ëŸ¬ ê²Œì‹œê¸€ ë™ì‹œ ë¶„ì„
- [ ] Instaloader í´ë°± êµ¬í˜„
- [ ] ë¹„ë””ì˜¤ ì¥ë©´ ë¶„í•  ë° ìƒì„¸ ë¶„ì„
- [ ] ë‹¤êµ­ì–´ ì§€ì› ê°•í™”
- [ ] ì‚¬ìš©ì í”¼ë“œë°± ê¸°ë°˜ ì¬í•™ìŠµ

#### Phase 3 (í”„ë¡œë•ì…˜ ì¤€ë¹„ - í–¥í›„ 6ê°œì›”)
- [ ] ì»¤ìŠ¤í…€ ìŠ¤í¬ë˜í¼ (50K+ posts/month)
- [ ] Self-hosted Whisper (ë¹„ìš© ìµœì í™”)
- [ ] GraphQL API ì œê³µ
- [ ] ì›¹í›… ì§€ì›
- [ ] ë¶„ì„ ëŒ€ì‹œë³´ë“œ
- [ ] ëª¨ë‹ˆí„°ë§ ë° ì•Œë¦¼ ì‹œìŠ¤í…œ

---

## ğŸ“Š ì„±ê³µ ì§€í‘œ (KPI)

### ê¸°ëŠ¥ ì§€í‘œ
- [ ] **ì²˜ë¦¬ ì„±ê³µë¥ **: 95% ì´ìƒ
- [ ] **í‰ê·  ì²˜ë¦¬ ì‹œê°„**: 30ì´ˆ ì´ë‚´ (ë¹„ë””ì˜¤ í¬í•¨)
- [ ] **ë¶„ë¥˜ ì •í™•ë„**: 85% ì´ìƒ

### ë¹„ìš© ì§€í‘œ
- [ ] **ì›” ìš´ì˜ë¹„**: $15 ì´ë‚´ (1,000 posts)
- [ ] **ê²Œì‹œë¬¼ë‹¹ ë¹„ìš©**: $0.015 ì´í•˜
- [ ] **ì¤‘ë³µ ë¶„ì„ ë°©ì§€ìœ¨**: 80% ì´ìƒ

### í’ˆì§ˆ ì§€í‘œ
- [ ] **OCR ì •í™•ë„**: 90% ì´ìƒ
- [ ] **ìŒì„± ì „ì‚¬ ì •í™•ë„**: 95% ì´ìƒ
- [ ] **API ê°€ìš©ì„±**: 99% ì´ìƒ
- [ ] **ì—ëŸ¬ìœ¨**: 5% ì´í•˜

---

## ğŸ“š ì°¸ê³  ìë£Œ

### API ë¬¸ì„œ
- [Google Gemini 2.5 Video Understanding](https://ai.google.dev/gemini-api/docs/video-understanding)
- [YouTube Data API v3](https://developers.google.com/youtube/v3)
- [yt-dlp Documentation](https://github.com/yt-dlp/yt-dlp)
- [Google Gemini API](https://ai.google.dev/docs)

### ì˜¤í”ˆì†ŒìŠ¤
- [yt-dlp](https://github.com/yt-dlp/yt-dlp) - ë²”ìš© ë¹„ë””ì˜¤ ë‹¤ìš´ë¡œë”
- [google-api-python-client](https://github.com/googleapis/google-api-python-client) - YouTube API
- [google-genai](https://github.com/googleapis/python-genai) - Gemini Python SDK

### ë²•ì  ì°¸ê³ 
- [YouTube Terms of Service](https://www.youtube.com/t/terms)
- [Instagram Terms of Service](https://help.instagram.com/581066165581870)
- [TikTok Terms of Service](https://www.tiktok.com/legal/terms-of-service)
- [GDPR Compliance](https://gdpr.eu/)
- [Fair Use Guidelines](https://www.copyright.gov/fair-use/)

---

## ğŸ”„ ë³€ê²½ ì´ë ¥

| ë²„ì „ | ë‚ ì§œ | ë³€ê²½ ë‚´ìš© | ì‘ì„±ì |
|-----|------|----------|-------|
| 1.0 | 2025-11-04 | ì´ˆì•ˆ ì‘ì„± (Instagram ì „ìš©) | AI Assistant |
| 2.0 | 2025-01-06 | ë©€í‹° í”Œë«í¼ ì§€ì›ìœ¼ë¡œ í™•ì¥ (YouTube/Instagram/TikTok) | AI Assistant |

### v2.0 ì£¼ìš” ë³€ê²½ì‚¬í•­
- âœ… **ë©€í‹° í”Œë«í¼ ì§€ì›**: YouTube, YouTube Shorts, Instagram, TikTok
- âœ… **Gemini í†µí•©**: ë¹„ë””ì˜¤ ìŒì„± ì „ì‚¬ + OCR í†µí•©, ì™¸ë¶€ ì„œë¹„ìŠ¤ ì œê±°
- âœ… **YouTube ìµœì í™”**: URL ì§ì ‘ ì „ë‹¬ë¡œ ë‹¤ìš´ë¡œë“œ ë¶ˆí•„ìš”
- âœ… **ë¹„ìš© ì ˆê°**: $5.41 â†’ $3.02 (44% ì ˆê°)
- âœ… **ê¸°ìˆ  ìŠ¤íƒ ê°„ì†Œí™”**: Deepgram, Tesseract, Google Vision, Apify ì œê±°
- âœ… **ì˜ìƒ/ì‚¬ì§„/í…ìŠ¤íŠ¸ êµ¬ë¶„ ë¶„ì„**: í”Œë«í¼ë³„ íŠ¹ì„± ìœ ì§€

---

**ë‹¤ìŒ ë‹¨ê³„**: Phase 1 êµ¬í˜„ ì‹œì‘ (ê¸°ë°˜ ì¸í”„ë¼ êµ¬ì¶•)
**ì˜ˆìƒ ì™„ë£Œì¼**: 2025-02-03 (4ì£¼ í›„)
**ë¦¬ë·° í•„ìš”**: ë§¤ì£¼ ê¸ˆìš”ì¼ ì§„í–‰ ìƒí™© ì ê²€
