# ÌîÑÎ°úÌïÑ ÌôîÎ©¥ Ïä§Ìéô (Profile Screen Specification)

## Î¨∏ÏÑú Ï†ïÎ≥¥
- **ÌôîÎ©¥Î™Ö**: ÌîÑÎ°úÌïÑ ÌôîÎ©¥ (Profile Screen)
- **ÎùºÏö∞Ìä∏**: `/profile`
- **Î≤ÑÏ†Ñ**: 1.0
- **ÏûëÏÑ±Ïùº**: 2025-01-XX

---

## 1. ÌôîÎ©¥ Î™©Ï†Å

- ÏÇ¨Ïö©Ïûê Ï†ïÎ≥¥ Î∞è ÌÜµÍ≥Ñ ÌëúÏãú
- Ï†ÄÏû•Îêú Ïû•ÏÜå/ÏΩîÏä§ Í¥ÄÎ¶¨
- Ïï± ÏÑ§Ï†ï Î∞è Í≥ÑÏ†ï Í¥ÄÎ¶¨

---

## 2. ÏôÄÏù¥Ïñ¥ÌîÑÎ†àÏûÑ

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  ÌîÑÎ°úÌïÑ                   ‚öôÔ∏è        ‚îÇ ‚Üê App Bar
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îê                             ‚îÇ
‚îÇ  ‚îÇ üßë ‚îÇ  ÍπÄÎØºÏßÄ                     ‚îÇ ‚Üê User Info
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îò  user@email.com             ‚îÇ
‚îÇ          [ÌîÑÎ°úÌïÑ Ìé∏Ïßë]              ‚îÇ
‚îÇ                                     ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê        ‚îÇ
‚îÇ  ‚îÇ Ï†ÄÏû•  ‚îÇ Ï¢ãÏïÑÏöî‚îÇ  ÏΩîÏä§  ‚îÇ        ‚îÇ ‚Üê Stats
‚îÇ  ‚îÇ  24   ‚îÇ  48   ‚îÇ   6    ‚îÇ        ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò        ‚îÇ
‚îÇ                                     ‚îÇ
‚îÇ  ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÇ
‚îÇ                                     ‚îÇ
‚îÇ  [Ï†ÄÏû•Îêú Ïû•ÏÜå] [ÎÇ¥ ÏΩîÏä§]           ‚îÇ ‚Üê Tabs
‚îÇ  ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ                           ‚îÇ
‚îÇ                                     ‚îÇ
‚îÇ  Ï†ÑÏ≤¥ (24)        [Ìé∏Ïßë]           ‚îÇ
‚îÇ                                     ‚îÇ
‚îÇ  üìÅ Í∏∞Î≥∏ Ìè¥Îçî (10)                 ‚îÇ ‚Üê Folders
‚îÇ  üìÅ Îç∞Ïù¥Ìä∏ (8)                     ‚îÇ
‚îÇ  üìÅ ÎßõÏßë (6)                       ‚îÇ
‚îÇ                                     ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îÇ
‚îÇ  ‚îÇ ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îê Ïπ¥Ìéò A               ‚îÇ   ‚îÇ ‚Üê Place Card
‚îÇ  ‚îÇ ‚îÇIMG ‚îÇ ‚≠ê 4.5 ¬∑ 500m       ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îò #Îç∞Ïù¥Ìä∏              ‚îÇ   ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îÇ
‚îÇ                                     ‚îÇ
‚îÇ  ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÇ
‚îÇ                                     ‚îÇ
‚îÇ  ÏÑ§Ï†ï                               ‚îÇ ‚Üê Settings
‚îÇ  ‚Ä¢ ÏïåÎ¶º ÏÑ§Ï†ï                       ‚îÇ
‚îÇ  ‚Ä¢ ÌÖåÎßà (ÏãúÏä§ÌÖú/ÎùºÏù¥Ìä∏/Îã§ÌÅ¨)        ‚îÇ
‚îÇ  ‚Ä¢ Ïñ∏Ïñ¥                            ‚îÇ
‚îÇ  ‚Ä¢ Ï†ïÎ≥¥                            ‚îÇ
‚îÇ  ‚Ä¢ Î°úÍ∑∏ÏïÑÏõÉ                        ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## 3. Flutter ÏúÑÏ†Ø Ìä∏Î¶¨

```dart
ProfileScreen (ConsumerStatefulWidget)
‚îî‚îÄ Scaffold
   ‚îú‚îÄ AppBar
   ‚îÇ  ‚îú‚îÄ Title: "ÌîÑÎ°úÌïÑ"
   ‚îÇ  ‚îî‚îÄ Actions: [SettingsButton]
   ‚îÇ
   ‚îú‚îÄ Body: CustomScrollView
   ‚îÇ  ‚îî‚îÄ SliverList
   ‚îÇ     ‚îú‚îÄ UserInfoSection
   ‚îÇ     ‚îÇ  ‚îú‚îÄ CircleAvatar (ÌîÑÎ°úÌïÑ Ïù¥ÎØ∏ÏßÄ)
   ‚îÇ     ‚îÇ  ‚îú‚îÄ UserName & Email
   ‚îÇ     ‚îÇ  ‚îî‚îÄ EditProfileButton
   ‚îÇ     ‚îÇ
   ‚îÇ     ‚îú‚îÄ StatsSection
   ‚îÇ     ‚îÇ  ‚îú‚îÄ StatCard (Ï†ÄÏû•)
   ‚îÇ     ‚îÇ  ‚îú‚îÄ StatCard (Ï¢ãÏïÑÏöî)
   ‚îÇ     ‚îÇ  ‚îî‚îÄ StatCard (ÏΩîÏä§)
   ‚îÇ     ‚îÇ
   ‚îÇ     ‚îú‚îÄ TabBar (Ï†ÄÏû•Îêú Ïû•ÏÜå / ÎÇ¥ ÏΩîÏä§)
   ‚îÇ     ‚îÇ
   ‚îÇ     ‚îú‚îÄ SavedPlacesTab (when selected)
   ‚îÇ     ‚îÇ  ‚îú‚îÄ FolderList
   ‚îÇ     ‚îÇ  ‚îî‚îÄ PlaceList
   ‚îÇ     ‚îÇ
   ‚îÇ     ‚îú‚îÄ MyCoursesTab (when selected)
   ‚îÇ     ‚îÇ  ‚îî‚îÄ CourseList
   ‚îÇ     ‚îÇ
   ‚îÇ     ‚îî‚îÄ SettingsSection
   ‚îÇ        ‚îú‚îÄ NotificationSettings
   ‚îÇ        ‚îú‚îÄ ThemeSettings
   ‚îÇ        ‚îú‚îÄ LanguageSettings
   ‚îÇ        ‚îú‚îÄ AppInfo
   ‚îÇ        ‚îî‚îÄ LogoutButton
```

---

## 4. ÌïµÏã¨ Ïª¥Ìè¨ÎÑåÌä∏

### 4.1 UserInfoSection

```dart
class UserInfoSection extends ConsumerWidget {
  @override
  Widget build(BuildContext context, WidgetRef ref) {
    final user = ref.watch(currentUserProvider);

    return Container(
      padding: const EdgeInsets.all(24),
      child: Column(
        children: [
          CircleAvatar(
            radius: 40,
            backgroundImage: user.profileImage != null
                ? NetworkImage(user.profileImage!)
                : null,
            child: user.profileImage == null
                ? const Icon(Icons.person, size: 40)
                : null,
          ),
          const SizedBox(height: 16),
          Text(
            user.name,
            style: Theme.of(context).textTheme.headlineSmall,
          ),
          Text(
            user.email,
            style: Theme.of(context).textTheme.bodyMedium,
          ),
          const SizedBox(height: 16),
          OutlinedButton(
            onPressed: () => context.push('/profile/edit'),
            child: const Text('ÌîÑÎ°úÌïÑ Ìé∏Ïßë'),
          ),
        ],
      ),
    );
  }
}
```

### 4.2 StatsSection

```dart
class StatsSection extends ConsumerWidget {
  @override
  Widget build(BuildContext context, WidgetRef ref) {
    final stats = ref.watch(userStatsProvider);

    return Row(
      mainAxisAlignment: MainAxisAlignment.spaceEvenly,
      children: [
        StatCard(
          icon: Icons.bookmark,
          label: 'Ï†ÄÏû•',
          count: stats.savedPlaces,
          onTap: () => _navigateToSaved(context),
        ),
        StatCard(
          icon: Icons.favorite,
          label: 'Ï¢ãÏïÑÏöî',
          count: stats.likedPlaces,
          onTap: () => _navigateToLiked(context),
        ),
        StatCard(
          icon: Icons.map,
          label: 'ÏΩîÏä§',
          count: stats.courses,
          onTap: () => _navigateToCourses(context),
        ),
      ],
    );
  }
}

class StatCard extends StatelessWidget {
  final IconData icon;
  final String label;
  final int count;
  final VoidCallback onTap;

  @override
  Widget build(BuildContext context) {
    return InkWell(
      onTap: onTap,
      child: Column(
        children: [
          Icon(icon, size: 32),
          const SizedBox(height: 8),
          Text(
            '$count',
            style: Theme.of(context).textTheme.titleLarge,
          ),
          Text(
            label,
            style: Theme.of(context).textTheme.bodySmall,
          ),
        ],
      ),
    );
  }
}
```

### 4.3 FolderList

```dart
class FolderList extends ConsumerWidget {
  @override
  Widget build(BuildContext context, WidgetRef ref) {
    final folders = ref.watch(foldersProvider);

    return Column(
      children: [
        ListTile(
          leading: const Icon(Icons.folder_open),
          title: Text('Ï†ÑÏ≤¥ (${folders.totalCount})'),
          trailing: TextButton(
            onPressed: () => _showEditMode(context),
            child: const Text('Ìé∏Ïßë'),
          ),
        ),
        ...folders.map((folder) => FolderTile(folder: folder)),
      ],
    );
  }
}

class FolderTile extends StatelessWidget {
  final Folder folder;

  @override
  Widget build(BuildContext context) {
    return ListTile(
      leading: const Icon(Icons.folder),
      title: Text('${folder.name} (${folder.count})'),
      trailing: const Icon(Icons.chevron_right),
      onTap: () => context.push('/folders/${folder.id}'),
    );
  }
}
```

---

## 5. ÏÉÅÌÉú Í¥ÄÎ¶¨

```dart
// User Provider
final currentUserProvider = StateNotifierProvider<UserNotifier, User>((ref) {
  return UserNotifier();
});

class UserNotifier extends StateNotifier<User> {
  UserNotifier() : super(User.initial());

  Future<void> loadUser() async {
    // Load user from API/storage
  }

  Future<void> updateProfile(UserProfile profile) async {
    // Update user profile
  }
}

// Stats Provider
final userStatsProvider = FutureProvider<UserStats>((ref) async {
  final userId = ref.watch(currentUserProvider).id;
  return await ref.read(statsRepositoryProvider).getStats(userId);
});

// Folders Provider
final foldersProvider = FutureProvider<List<Folder>>((ref) async {
  final userId = ref.watch(currentUserProvider).id;
  return await ref.read(folderRepositoryProvider).getFolders(userId);
});

// Settings Provider
final settingsProvider = StateNotifierProvider<SettingsNotifier, AppSettings>((ref) {
  return SettingsNotifier();
});

class SettingsNotifier extends StateNotifier<AppSettings> {
  SettingsNotifier() : super(AppSettings.initial());

  void setTheme(ThemeMode mode) {
    state = state.copyWith(themeMode: mode);
  }

  void setNotifications(bool enabled) {
    state = state.copyWith(notificationsEnabled: enabled);
  }
}

@freezed
class AppSettings with _$AppSettings {
  const factory AppSettings({
    required ThemeMode themeMode,
    required bool notificationsEnabled,
    required String language,
  }) = _AppSettings;

  factory AppSettings.initial() => const AppSettings(
    themeMode: ThemeMode.system,
    notificationsEnabled: true,
    language: 'ko',
  );
}
```

---

## 6. ÏÑ§Ï†ï ÌôîÎ©¥

### 6.1 SettingsSection

```dart
class SettingsSection extends ConsumerWidget {
  @override
  Widget build(BuildContext context, WidgetRef ref) {
    final settings = ref.watch(settingsProvider);

    return Column(
      crossAxisAlignment: CrossAxisAlignment.start,
      children: [
        Padding(
          padding: const EdgeInsets.all(16),
          child: Text(
            'ÏÑ§Ï†ï',
            style: Theme.of(context).textTheme.titleMedium,
          ),
        ),

        // ÏïåÎ¶º ÏÑ§Ï†ï
        SwitchListTile(
          title: const Text('ÏïåÎ¶º ÏÑ§Ï†ï'),
          subtitle: const Text('Ìë∏Ïãú ÏïåÎ¶º Î∞õÍ∏∞'),
          value: settings.notificationsEnabled,
          onChanged: (value) {
            ref.read(settingsProvider.notifier).setNotifications(value);
          },
        ),

        // ÌÖåÎßà ÏÑ§Ï†ï
        ListTile(
          title: const Text('ÌÖåÎßà'),
          subtitle: Text(_getThemeLabel(settings.themeMode)),
          trailing: const Icon(Icons.chevron_right),
          onTap: () => _showThemeDialog(context, ref),
        ),

        // Ïñ∏Ïñ¥ ÏÑ§Ï†ï
        ListTile(
          title: const Text('Ïñ∏Ïñ¥'),
          subtitle: Text(settings.language == 'ko' ? 'ÌïúÍµ≠Ïñ¥' : 'English'),
          trailing: const Icon(Icons.chevron_right),
          onTap: () => _showLanguageDialog(context, ref),
        ),

        // Ïï± Ï†ïÎ≥¥
        ListTile(
          title: const Text('Ï†ïÎ≥¥'),
          trailing: const Icon(Icons.chevron_right),
          onTap: () => context.push('/about'),
        ),

        const Divider(),

        // Î°úÍ∑∏ÏïÑÏõÉ
        ListTile(
          title: const Text('Î°úÍ∑∏ÏïÑÏõÉ'),
          textColor: Theme.of(context).colorScheme.error,
          onTap: () => _showLogoutDialog(context, ref),
        ),
      ],
    );
  }

  String _getThemeLabel(ThemeMode mode) {
    switch (mode) {
      case ThemeMode.system:
        return 'ÏãúÏä§ÌÖú';
      case ThemeMode.light:
        return 'ÎùºÏù¥Ìä∏';
      case ThemeMode.dark:
        return 'Îã§ÌÅ¨';
    }
  }
}
```

---

## 7. ÏôÑÎ£å Ï†ïÏùò (DoD)

- [ ] ÏÇ¨Ïö©Ïûê Ï†ïÎ≥¥ ÌëúÏãú (Ïù¥Î¶Ñ, Ïù¥Î©îÏùº, ÌîÑÎ°úÌïÑ Ïù¥ÎØ∏ÏßÄ)
- [ ] ÌÜµÍ≥Ñ ÏÑπÏÖò (Ï†ÄÏû•, Ï¢ãÏïÑÏöî, ÏΩîÏä§ Í∞úÏàò)
- [ ] Ï†ÄÏû•Îêú Ïû•ÏÜå ÌÉ≠ (Ìè¥ÎçîÎ≥Ñ Í¥ÄÎ¶¨)
- [ ] ÎÇ¥ ÏΩîÏä§ ÌÉ≠ (ÏÉùÏÑ±Ìïú ÏΩîÏä§ Î™©Î°ù)
- [ ] ÏÑ§Ï†ï Í∏∞Îä• (ÏïåÎ¶º, ÌÖåÎßà, Ïñ∏Ïñ¥)
- [ ] Î°úÍ∑∏ÏïÑÏõÉ Í∏∞Îä•
- [ ] ÌîÑÎ°úÌïÑ Ìé∏Ïßë ÎÑ§ÎπÑÍ≤åÏù¥ÏÖò

---

## 8. ÏàòÏö© Í∏∞Ï§Ä

- **Given** Î°úÍ∑∏Ïù∏Îêú ÏÇ¨Ïö©Ïûê
- **When** ÌîÑÎ°úÌïÑ ÌôîÎ©¥ ÏßÑÏûÖ
- **Then** ÏÇ¨Ïö©Ïûê Ï†ïÎ≥¥ Î∞è ÌÜµÍ≥Ñ Ï†ïÌôïÌûà ÌëúÏãú

- **Given** Ï†ÄÏû•Îêú Ïû•ÏÜåÍ∞Ä ÏûàÎäî ÏÉÅÌÉú
- **When** Ï†ÄÏû•Îêú Ïû•ÏÜå ÌÉ≠ ÏÑ†ÌÉù
- **Then** Ìè¥ÎçîÎ≥ÑÎ°ú Ïû•ÏÜå Î™©Î°ù ÌëúÏãú

- **Given** ÌÖåÎßà ÏÑ§Ï†ï Î≥ÄÍ≤Ω
- **When** Îã§ÌÅ¨ Î™®Îìú ÏÑ†ÌÉù
- **Then** Ï¶âÏãú Îã§ÌÅ¨ ÌÖåÎßà Ï†ÅÏö© Î∞è Ï†ÄÏû•

---

*ÏûëÏÑ±Ïùº: 2025-01-XX*
*ÏûëÏÑ±Ïûê: Claude*
*Î≤ÑÏ†Ñ: 1.0*